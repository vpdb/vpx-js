/*
 * VPDB - Virtual Pinball Database
 * Copyright (C) 2019 freezy <freezy@vpdb.io>
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 */

import { ThreeHelper } from '../three.helper';
import { Table } from '../../lib';
import { GLTF } from 'three/examples/jsm/loaders/GLTFLoader';
import { Mesh } from 'three';
import { NodeBinaryReader } from '../../lib/io/binary-reader.node';

const three = new ThreeHelper();

describe('The VPinball trigger generator', () => {

	let gltf: GLTF;

	before(async () => {
		const vpt = await Table.load(new NodeBinaryReader(three.fixturePath('table-trigger.vpx')));
		gltf = await three.loadGlb(await vpt.exportGlb());
	});

	it('should generate a button trigger mesh', async () => {
		const triggerMesh = three.find<Mesh>(gltf, 'triggers', 'Button', 'trigger-Button');
		const triggerMeshVertices = three.vertices(triggerMesh);
		let expectedVertices = [
			[153.706131, 1409.760376, -5.273650],
			[157.152893, 1409.340820, -7.728700],
			[155.714630, 1411.171509, -7.728700],
			[157.152893, 1409.340820, -7.728700],
			[153.706131, 1409.760376, -5.273650],
			[155.304810, 1407.722900, -5.273650],
			[155.304810, 1407.722900, -5.273650],
			[158.776688, 1407.672607, -7.728700],
			[157.152893, 1409.340820, -7.728700],
			[151.200760, 1414.283813, -5.273650],
			[154.481339, 1413.145264, -7.728700],
			[152.671890, 1417.429077, -7.728700],
			[155.304810, 1407.722900, -5.273650],
			[157.112259, 1405.869019, -5.273650],
			[158.776688, 1407.672607, -7.728700],
			[157.112259, 1405.869019, -5.273650],
			[159.105331, 1404.216187, -5.273650],
			[158.776688, 1407.672607, -7.728700],
			[162.509567, 1404.898560, -7.728700],
			[158.776688, 1407.672607, -7.728700],
			[159.105331, 1404.216187, -5.273650],
			[159.105331, 1404.216187, -5.273650],
			[161.262711, 1402.783691, -5.273650],
			[162.509567, 1404.898560, -7.728700],
			[161.262711, 1402.783691, -5.273650],
			[163.561218, 1401.590942, -5.273650],
			[162.509567, 1404.898560, -7.728700],
			[163.561218, 1401.590942, -5.273650],
			[166.743057, 1402.979004, -7.728700],
			[162.509567, 1404.898560, -7.728700],
			[152.366440, 1428.933105, -7.728700],
			[149.981018, 1429.516846, -5.273575],
			[149.501556, 1426.972900, -5.273575],
			[152.366440, 1428.933105, -7.728700],
			[149.501556, 1426.972900, -5.273575],
			[151.935379, 1426.646118, -7.728700],
			[149.501556, 1426.972900, -5.273575],
			[149.294708, 1424.390259, -5.273575],
			[151.935379, 1426.646118, -7.728700],
			[149.294708, 1424.390259, -5.273575],
			[151.749817, 1424.324463, -7.728700],
			[151.935379, 1426.646118, -7.728700],
			[149.294708, 1424.390259, -5.273575],
			[149.364334, 1421.801758, -5.273575],
			[151.749817, 1424.324463, -7.728700],
			[149.364334, 1421.801758, -5.273575],
			[152.120956, 1419.690796, -7.728700],
			[151.749817, 1424.324463, -7.728700],
			[149.364334, 1421.801758, -5.273575],
			[149.708389, 1419.236572, -5.273650],
			[152.120956, 1419.690796, -7.728700],
			[149.708389, 1419.236572, -5.273650],
			[152.671890, 1417.429077, -7.728700],
			[152.120956, 1419.690796, -7.728700],
			[149.708389, 1419.236572, -5.273650],
			[150.323135, 1416.719604, -5.273650],
			[152.671890, 1417.429077, -7.728700],
			[152.671890, 1417.429077, -7.728700],
			[150.323135, 1416.719604, -5.273650],
			[151.200760, 1414.283813, -5.273650],
			[163.561218, 1401.590942, -5.273650],
			[165.973679, 1400.647583, -5.273650],
			[166.743057, 1402.979004, -7.728700],
			[165.973679, 1400.647583, -5.273650],
			[168.471313, 1399.965210, -5.273650],
			[166.743057, 1402.979004, -7.728700],
			[168.471313, 1399.965210, -5.273650],
			[171.287888, 1401.994995, -7.728700],
			[166.743057, 1402.979004, -7.728700],
			[168.471313, 1399.965210, -5.273650],
			[171.026886, 1399.551514, -5.273650],
			[171.287888, 1401.994995, -7.728700],
			[171.026886, 1399.551514, -5.273650],
			[173.613464, 1401.871216, -7.728700],
			[171.287888, 1401.994995, -7.728700],
			[171.026886, 1399.551514, -5.273650],
			[173.613464, 1399.414307, -5.273650],
			[173.613464, 1401.871216, -7.728700],
			[175.938965, 1401.994995, -7.728700],
			[173.613464, 1401.871216, -7.728700],
			[173.613464, 1399.414307, -5.273650],
			[176.199936, 1399.551514, -5.273650],
			[175.938965, 1401.994995, -7.728700],
			[173.613464, 1399.414307, -5.273650],
			[176.199936, 1399.551514, -5.273650],
			[178.755508, 1399.965210, -5.273650],
			[175.938965, 1401.994995, -7.728700],
			[152.333588, 1411.956299, -5.273650],
			[154.481339, 1413.145264, -7.728700],
			[151.200760, 1414.283813, -5.273650],
			[152.333588, 1411.956299, -5.273650],
			[155.714630, 1411.171509, -7.728700],
			[154.481339, 1413.145264, -7.728700],
			[152.333588, 1411.956299, -5.273650],
			[153.706131, 1409.760376, -5.273650],
			[155.714630, 1411.171509, -7.728700],
			[156.184387, 1440.713501, -5.273575],
			[154.479385, 1438.764893, -5.273575],
			[157.943512, 1439.000854, -7.728700],
			[154.479385, 1438.764893, -5.273575],
			[155.070892, 1435.345215, -7.728700],
			[157.943512, 1439.000854, -7.728700],
			[154.479385, 1438.764893, -5.273575],
			[152.990891, 1436.646240, -5.273575],
			[155.070892, 1435.345215, -7.728700],
			[152.990891, 1436.646240, -5.273575],
			[151.736267, 1434.380615, -5.273575],
			[155.070892, 1435.345215, -7.728700],
			[151.736267, 1434.380615, -5.273575],
			[153.943878, 1433.307739, -7.728700],
			[155.070892, 1435.345215, -7.728700],
			[151.736267, 1434.380615, -5.273575],
			[150.729065, 1431.995117, -5.273575],
			[153.943878, 1433.307739, -7.728700],
			[150.729065, 1431.995117, -5.273575],
			[152.366440, 1428.933105, -7.728700],
			[153.943878, 1433.307739, -7.728700],
			[149.981018, 1429.516846, -5.273575],
			[152.366440, 1428.933105, -7.728700],
			[150.729065, 1431.995117, -5.273575],
			[167.858505, 1444.844604, -7.728700],
			[170.133835, 1445.337524, -7.728700],
			[167.212814, 1447.212646, -5.273575],
			[167.212814, 1447.212646, -5.273575],
			[164.753891, 1446.398804, -5.273575],
			[167.858505, 1444.844604, -7.728700],
			[173.031555, 1445.600464, -7.728700],
			[172.318268, 1448.036255, -5.273575],
			[170.133835, 1445.337524, -7.728700],
			[172.318268, 1448.036255, -5.273575],
			[169.743317, 1447.759766, -5.273575],
			[170.133835, 1445.337524, -7.728700],
			[169.743317, 1447.759766, -5.273575],
			[167.212814, 1447.212646, -5.273575],
			[170.133835, 1445.337524, -7.728700],
			[180.014008, 1447.212646, -5.273575],
			[177.093063, 1445.337524, -7.728700],
			[179.368332, 1444.844604, -7.728700],
			[180.014008, 1447.212646, -5.273575],
			[177.483505, 1447.759766, -5.273575],
			[177.093063, 1445.337524, -7.728700],
			[177.483505, 1447.759766, -5.273575],
			[174.908630, 1448.036255, -5.273575],
			[177.093063, 1445.337524, -7.728700],
			[174.908630, 1448.036255, -5.273575],
			[173.031555, 1445.600464, -7.728700],
			[177.093063, 1445.337524, -7.728700],
			[174.908630, 1448.036255, -5.273575],
			[172.318268, 1448.036255, -5.273575],
			[173.031555, 1445.600464, -7.728700],
			[167.858505, 1444.844604, -7.728700],
			[164.753891, 1446.398804, -5.273575],
			[163.528336, 1443.151245, -7.728700],
			[164.753891, 1446.398804, -5.273575],
			[162.395508, 1445.329834, -5.273575],
			[163.528336, 1443.151245, -7.728700],
			[163.528336, 1443.151245, -7.728700],
			[162.395508, 1445.329834, -5.273575],
			[160.164688, 1444.015259, -5.273575],
			[163.528336, 1443.151245, -7.728700],
			[160.164688, 1444.015259, -5.273575],
			[161.521759, 1441.970093, -7.728700],
			[160.164688, 1444.015259, -5.273575],
			[158.086563, 1442.470703, -5.273575],
			[161.521759, 1441.970093, -7.728700],
			[161.521759, 1441.970093, -7.728700],
			[158.086563, 1442.470703, -5.273575],
			[157.943512, 1439.000854, -7.728700],
			[158.086563, 1442.470703, -5.273575],
			[156.184387, 1440.713501, -5.273575],
			[157.943512, 1439.000854, -7.728700],
			[191.922012, 1407.722900, -5.273650],
			[190.073929, 1409.340820, -7.728700],
			[188.450134, 1407.672607, -7.728700],
			[190.073929, 1409.340820, -7.728700],
			[191.922012, 1407.722900, -5.273650],
			[193.520752, 1409.760376, -5.273650],
			[190.073929, 1409.340820, -7.728700],
			[193.520752, 1409.760376, -5.273650],
			[191.512207, 1411.171509, -7.728700],
			[193.520752, 1409.760376, -5.273650],
			[194.893265, 1411.956299, -5.273650],
			[191.512207, 1411.171509, -7.728700],
			[194.893265, 1411.956299, -5.273650],
			[193.764313, 1415.238892, -7.728700],
			[191.512207, 1411.171509, -7.728700],
			[183.665634, 1401.590942, -5.273650],
			[180.483765, 1402.979004, -7.728700],
			[181.253128, 1400.647583, -5.273650],
			[180.483765, 1402.979004, -7.728700],
			[183.665634, 1401.590942, -5.273650],
			[184.717255, 1404.898560, -7.728700],
			[183.665634, 1401.590942, -5.273650],
			[185.964142, 1402.783691, -5.273650],
			[184.717255, 1404.898560, -7.728700],
			[186.656189, 1406.185913, -7.728700],
			[184.717255, 1404.898560, -7.728700],
			[185.964142, 1402.783691, -5.273650],
			[188.121506, 1404.216187, -5.273650],
			[186.656189, 1406.185913, -7.728700],
			[188.121506, 1404.216187, -5.273650],
			[190.114594, 1405.869019, -5.273650],
			[186.656189, 1406.185913, -7.728700],
			[190.114594, 1405.869019, -5.273650],
			[188.450134, 1407.672607, -7.728700],
			[190.114594, 1405.869019, -5.273650],
			[191.922012, 1407.722900, -5.273650],
			[188.450134, 1407.672607, -7.728700],
			[175.938965, 1401.994995, -7.728700],
			[178.755508, 1399.965210, -5.273650],
			[180.483765, 1402.979004, -7.728700],
			[178.755508, 1399.965210, -5.273650],
			[181.253128, 1400.647583, -5.273650],
			[180.483765, 1402.979004, -7.728700],
			[197.245880, 1429.516846, -5.273575],
			[194.860382, 1428.933105, -7.728700],
			[197.725266, 1426.972900, -5.273575],
			[195.291443, 1426.646118, -7.728700],
			[197.725266, 1426.972900, -5.273575],
			[194.860382, 1428.933105, -7.728700],
			[193.764313, 1415.238892, -7.728700],
			[196.903717, 1416.719604, -5.273650],
			[194.554962, 1417.429077, -7.728700],
			[196.903717, 1416.719604, -5.273650],
			[197.518463, 1419.236572, -5.273650],
			[194.554962, 1417.429077, -7.728700],
			[197.518463, 1419.236572, -5.273650],
			[195.415192, 1421.999023, -7.728700],
			[194.554962, 1417.429077, -7.728700],
			[197.518463, 1419.236572, -5.273650],
			[197.864441, 1421.801758, -5.273575],
			[195.415192, 1421.999023, -7.728700],
			[197.864441, 1421.801758, -5.273575],
			[195.477066, 1424.324463, -7.728700],
			[195.415192, 1421.999023, -7.728700],
			[197.934082, 1424.390259, -5.273575],
			[195.477066, 1424.324463, -7.728700],
			[197.864441, 1421.801758, -5.273575],
			[197.934082, 1424.390259, -5.273575],
			[195.291443, 1426.646118, -7.728700],
			[195.477066, 1424.324463, -7.728700],
			[197.934082, 1424.390259, -5.273575],
			[197.725266, 1426.972900, -5.273575],
			[195.291443, 1426.646118, -7.728700],
			[196.026093, 1414.283813, -5.273650],
			[193.764313, 1415.238892, -7.728700],
			[194.893265, 1411.956299, -5.273650],
			[196.903717, 1416.719604, -5.273650],
			[193.764313, 1415.238892, -7.728700],
			[196.026093, 1414.283813, -5.273650],
			[189.140259, 1442.470703, -5.273575],
			[187.062134, 1444.015259, -5.273575],
			[185.705139, 1441.970093, -7.728700],
			[183.698517, 1443.151245, -7.728700],
			[185.705139, 1441.970093, -7.728700],
			[187.062134, 1444.015259, -5.273575],
			[184.831329, 1445.329834, -5.273575],
			[183.698517, 1443.151245, -7.728700],
			[187.062134, 1444.015259, -5.273575],
			[184.831329, 1445.329834, -5.273575],
			[182.472931, 1446.398804, -5.273575],
			[183.698517, 1443.151245, -7.728700],
			[182.472931, 1446.398804, -5.273575],
			[179.368332, 1444.844604, -7.728700],
			[183.698517, 1443.151245, -7.728700],
			[180.014008, 1447.212646, -5.273575],
			[179.368332, 1444.844604, -7.728700],
			[182.472931, 1446.398804, -5.273575],
			[194.860382, 1428.933105, -7.728700],
			[197.245880, 1429.516846, -5.273575],
			[194.187637, 1431.163940, -7.728700],
			[194.187637, 1431.163940, -7.728700],
			[195.490585, 1434.380615, -5.273575],
			[193.282959, 1433.307739, -7.728700],
			[193.282959, 1433.307739, -7.728700],
			[195.490585, 1434.380615, -5.273575],
			[194.236008, 1436.646240, -5.273575],
			[193.282959, 1433.307739, -7.728700],
			[194.236008, 1436.646240, -5.273575],
			[192.155930, 1435.345215, -7.728700],
			[194.236008, 1436.646240, -5.273575],
			[192.747513, 1438.764893, -5.273575],
			[192.155930, 1435.345215, -7.728700],
			[192.747513, 1438.764893, -5.273575],
			[189.283340, 1439.000854, -7.728700],
			[192.155930, 1435.345215, -7.728700],
			[192.747513, 1438.764893, -5.273575],
			[191.042465, 1440.713501, -5.273575],
			[189.283340, 1439.000854, -7.728700],
			[191.042465, 1440.713501, -5.273575],
			[189.140259, 1442.470703, -5.273575],
			[189.283340, 1439.000854, -7.728700],
			[189.140259, 1442.470703, -5.273575],
			[185.705139, 1441.970093, -7.728700],
			[189.283340, 1439.000854, -7.728700],
			[194.187637, 1431.163940, -7.728700],
			[196.497757, 1431.995117, -5.273575],
			[195.490585, 1434.380615, -5.273575],
			[194.187637, 1431.163940, -7.728700],
			[197.245880, 1429.516846, -5.273575],
			[196.497757, 1431.995117, -5.273575],
			[151.200760, 1414.283813, -5.273650],
			[151.066589, 1415.089355, -2.342225],
			[152.333588, 1411.956299, -5.273650],
			[156.978088, 1406.674438, -2.342225],
			[159.105331, 1404.216187, -5.273650],
			[157.112259, 1405.869019, -5.273650],
			[157.112259, 1405.869019, -5.273650],
			[155.304810, 1407.722900, -5.273650],
			[156.978088, 1406.674438, -2.342225],
			[161.262711, 1402.783691, -5.273650],
			[161.128540, 1403.589233, -2.342225],
			[163.561218, 1401.590942, -5.273650],
			[150.323135, 1416.719604, -5.273650],
			[158.971161, 1405.021606, -2.342225],
			[155.170654, 1408.528320, -2.342225],
			[153.706131, 1409.760376, -5.273650],
			[153.571960, 1410.565796, -2.342225],
			[152.199402, 1412.761841, -2.342225],
			[163.427032, 1402.396484, -2.342225],
			[165.973679, 1400.647583, -5.273650],
			[173.613464, 1399.414307, -5.273650],
			[173.479279, 1400.219727, -2.342225],
			[176.065781, 1400.357056, -2.342225],
			[176.199936, 1399.551514, -5.273650],
			[171.026886, 1399.551514, -5.273650],
			[168.337158, 1400.770752, -2.342225],
			[170.892715, 1400.357056, -2.342225],
			[168.471313, 1399.965210, -5.273650],
			[165.839539, 1401.453125, -2.342225],
			[178.621338, 1400.770752, -2.342225],
			[178.755508, 1399.965210, -5.273650],
			[154.479385, 1438.764893, -5.273575],
			[156.050217, 1441.519043, -2.342225],
			[154.345215, 1439.570435, -2.342225],
			[152.990891, 1436.646240, -5.273575],
			[150.594910, 1432.800659, -2.342225],
			[151.736267, 1434.380615, -5.273575],
			[151.602081, 1435.186035, -2.342225],
			[150.729065, 1431.995117, -5.273575],
			[152.856705, 1437.451660, -2.342225],
			[157.952408, 1443.276245, -2.342225],
			[156.050217, 1441.519043, -2.342225],
			[158.086563, 1442.470703, -5.273575],
			[160.164688, 1444.015259, -5.273575],
			[160.030533, 1444.820801, -2.342225],
			[162.261337, 1446.135376, -2.342225],
			[150.188965, 1417.525146, -2.342225],
			[149.708389, 1419.236572, -5.273650],
			[149.574219, 1420.041992, -2.342225],
			[149.364334, 1421.801758, -5.273575],
			[149.230164, 1422.607300, -2.342225],
			[149.294708, 1424.390259, -5.273575],
			[149.160538, 1425.195679, -2.342225],
			[149.501556, 1426.972900, -5.273575],
			[149.367401, 1427.778320, -2.342225],
			[149.981018, 1429.516846, -5.273575],
			[149.846832, 1430.322388, -2.342225],
			[169.609161, 1448.565308, -2.342225],
			[169.743317, 1447.759766, -5.273575],
			[172.318268, 1448.036255, -5.273575],
			[172.184082, 1448.841675, -2.342225],
			[164.753891, 1446.398804, -5.273575],
			[164.619705, 1447.204346, -2.342225],
			[162.395508, 1445.329834, -5.273575],
			[167.212814, 1447.212646, -5.273575],
			[167.078659, 1448.018188, -2.342225],
			[174.774460, 1448.841675, -2.342225],
			[174.908630, 1448.036255, -5.273575],
			[177.483505, 1447.759766, -5.273575],
			[177.349335, 1448.565308, -2.342225],
			[180.014008, 1447.212646, -5.273575],
			[179.879837, 1448.018188, -2.342225],
			[156.184387, 1440.713501, -5.273575],
			[156.184387, 1440.713501, -5.273575],
			[191.787842, 1408.528320, -2.342225],
			[191.922012, 1407.722900, -5.273650],
			[189.980408, 1406.674438, -2.342225],
			[190.114594, 1405.869019, -5.273650],
			[188.121506, 1404.216187, -5.273650],
			[187.987335, 1405.021606, -2.342225],
			[188.121506, 1404.216187, -5.273650],
			[185.964142, 1402.783691, -5.273650],
			[185.829956, 1403.589233, -2.342225],
			[187.987335, 1405.021606, -2.342225],
			[183.665634, 1401.590942, -5.273650],
			[183.531464, 1402.396484, -2.342225],
			[181.118958, 1401.453125, -2.342225],
			[181.253128, 1400.647583, -5.273650],
			[194.893265, 1411.956299, -5.273650],
			[194.759079, 1412.761841, -2.342225],
			[195.891907, 1415.089355, -2.342225],
			[193.386581, 1410.565796, -2.342225],
			[197.591080, 1427.778320, -2.342225],
			[197.111710, 1430.322388, -2.342225],
			[197.245880, 1429.516846, -5.273575],
			[197.725266, 1426.972900, -5.273575],
			[197.934082, 1424.390259, -5.273575],
			[197.799911, 1425.195679, -2.342225],
			[197.864441, 1421.801758, -5.273575],
			[197.730286, 1422.607300, -2.342225],
			[197.518463, 1419.236572, -5.273650],
			[197.384277, 1420.041992, -2.342225],
			[196.903717, 1416.719604, -5.273650],
			[196.769531, 1417.525146, -2.342225],
			[196.363586, 1432.800659, -2.342225],
			[196.497757, 1431.995117, -5.273575],
			[196.026093, 1414.283813, -5.273650],
			[193.520752, 1409.760376, -5.273650],
			[191.042465, 1440.713501, -5.273575],
			[192.747513, 1438.764893, -5.273575],
			[190.908279, 1441.519043, -2.342225],
			[194.236008, 1436.646240, -5.273575],
			[194.101837, 1437.451660, -2.342225],
			[192.747513, 1438.764893, -5.273575],
			[195.490585, 1434.380615, -5.273575],
			[195.356415, 1435.186035, -2.342225],
			[182.472931, 1446.398804, -5.273575],
			[184.697159, 1446.135376, -2.342225],
			[182.338791, 1447.204346, -2.342225],
			[192.613342, 1439.570435, -2.342225],
			[192.613342, 1439.570435, -2.342225],
			[195.356415, 1435.186035, -2.342225],
			[192.613342, 1439.570435, -2.342225],
			[194.101837, 1437.451660, -2.342225],
			[190.908279, 1441.519043, -2.342225],
			[196.363586, 1432.800659, -2.342225],
			[197.591080, 1427.778320, -2.342225],
			[189.006088, 1443.276245, -2.342225],
			[186.927963, 1444.820801, -2.342225],
			[184.697159, 1446.135376, -2.342225],
			[182.338791, 1447.204346, -2.342225],
			[197.111710, 1430.322388, -2.342225],
			[151.602081, 1435.186035, -2.342225],
			[197.799911, 1425.195679, -2.342225],
			[197.730286, 1422.607300, -2.342225],
			[197.384277, 1420.041992, -2.342225],
			[183.531464, 1402.396484, -2.342225],
			[181.118958, 1401.453125, -2.342225],
			[178.621338, 1400.770752, -2.342225],
			[185.829956, 1403.589233, -2.342225],
			[187.987335, 1405.021606, -2.342225],
			[189.980408, 1406.674438, -2.342225],
			[191.787842, 1408.528320, -2.342225],
			[194.759079, 1412.761841, -2.342225],
			[193.386581, 1410.565796, -2.342225],
			[195.891907, 1415.089355, -2.342225],
			[196.769531, 1417.525146, -2.342225],
			[167.078659, 1448.018188, -2.342225],
			[164.619705, 1447.204346, -2.342225],
			[169.609161, 1448.565308, -2.342225],
			[172.184082, 1448.841675, -2.342225],
			[179.879837, 1448.018188, -2.342225],
			[177.349335, 1448.565308, -2.342225],
			[174.774460, 1448.841675, -2.342225],
			[162.261337, 1446.135376, -2.342225],
			[160.030533, 1444.820801, -2.342225],
			[157.952408, 1443.276245, -2.342225],
			[156.050217, 1441.519043, -2.342225],
			[154.345215, 1439.570435, -2.342225],
			[152.856705, 1437.451660, -2.342225],
			[150.594910, 1432.800659, -2.342225],
			[149.846832, 1430.322388, -2.342225],
			[149.367401, 1427.778320, -2.342225],
			[149.160538, 1425.195679, -2.342225],
			[152.199402, 1412.761841, -2.342225],
			[151.066589, 1415.089355, -2.342225],
			[150.188965, 1417.525146, -2.342225],
			[149.230164, 1422.607300, -2.342225],
			[163.427032, 1402.396484, -2.342225],
			[165.839539, 1401.453125, -2.342225],
			[168.337158, 1400.770752, -2.342225],
			[170.892715, 1400.357056, -2.342225],
			[173.479279, 1400.219727, -2.342225],
			[176.065781, 1400.357056, -2.342225],
			[149.574219, 1420.041992, -2.342225],
			[155.170654, 1408.528320, -2.342225],
			[156.978088, 1406.674438, -2.342225],
			[153.571960, 1410.565796, -2.342225],
			[158.971161, 1405.021606, -2.342225],
			[161.128540, 1403.589233, -2.342225],
			[192.155930, 1435.345215, -7.728700],
			[185.705139, 1441.970093, -7.728700],
			[183.698517, 1443.151245, -7.728700],
			[179.368332, 1444.844604, -7.728700],
			[189.283340, 1439.000854, -7.728700],
			[193.282959, 1433.307739, -7.728700],
			[152.120956, 1419.690796, -7.728700],
			[194.187637, 1431.163940, -7.728700],
			[194.554962, 1417.429077, -7.728700],
			[190.073929, 1409.340820, -7.728700],
			[193.764313, 1415.238892, -7.728700],
			[195.415192, 1421.999023, -7.728700],
			[195.291443, 1426.646118, -7.728700],
			[195.477066, 1424.324463, -7.728700],
			[194.860382, 1428.933105, -7.728700],
			[191.512207, 1411.171509, -7.728700],
			[188.450134, 1407.672607, -7.728700],
			[184.717255, 1404.898560, -7.728700],
			[186.656189, 1406.185913, -7.728700],
			[180.483765, 1402.979004, -7.728700],
			[175.938965, 1401.994995, -7.728700],
			[173.031555, 1445.600464, -7.728700],
			[177.093063, 1445.337524, -7.728700],
			[170.133835, 1445.337524, -7.728700],
			[163.528336, 1443.151245, -7.728700],
			[167.858505, 1444.844604, -7.728700],
			[161.521759, 1441.970093, -7.728700],
			[155.070892, 1435.345215, -7.728700],
			[157.943512, 1439.000854, -7.728700],
			[153.943878, 1433.307739, -7.728700],
			[152.366440, 1428.933105, -7.728700],
			[151.935379, 1426.646118, -7.728700],
			[151.749817, 1424.324463, -7.728700],
			[173.613464, 1401.871216, -7.728700],
			[171.287888, 1401.994995, -7.728700],
			[166.743057, 1402.979004, -7.728700],
			[162.509567, 1404.898560, -7.728700],
			[154.481339, 1413.145264, -7.728700],
			[155.714630, 1411.171509, -7.728700],
			[152.671890, 1417.429077, -7.728700],
			[157.152893, 1409.340820, -7.728700],
			[158.776688, 1407.672607, -7.728700],
			[184.831329, 1445.329834, -5.273575],
			[187.062134, 1444.015259, -5.273575],
			[186.927963, 1444.820801, -2.342225],
			[189.140259, 1442.470703, -5.273575],
			[189.006088, 1443.276245, -2.342225],
		];
		three.expectVerticesInArray(expectedVertices, triggerMeshVertices);
	});

	it('should not generate a "None" trigger mesh', async () => {
		three.expectNoObject(gltf, 'triggers', 'None');
	});

	it('should not generate an invisible trigger mesh', async () => {
		three.expectNoObject(gltf, 'triggers', 'Invisible');
	});

	it('should generate a star trigger mesh', async () => {
		const triggerMesh = three.find<Mesh>(gltf, 'triggers', 'Star', 'trigger-Star');
		const triggerMeshVertices = three.vertices(triggerMesh);
		let expectedVertices = [
			[398.788025, 1437.033936, -8.024473],
			[403.929718, 1436.411621, -8.024500],
			[403.313416, 1439.552856, -8.024473],
			[411.659607, 1438.270386, -7.034500],
			[411.172607, 1440.752563, -7.034472],
			[403.313446, 1439.552856, 1.005043],
			[403.313416, 1439.552856, -8.024473],
			[411.172607, 1440.752563, -7.034472],
			[403.929718, 1436.411621, -8.024500],
			[403.929749, 1436.411621, 1.005043],
			[411.659607, 1438.270386, -7.034500],
			[425.041504, 1441.488647, -2.876500],
			[420.327728, 1440.365112, -4.856500],
			[419.989685, 1442.088257, -4.856472],
			[420.327728, 1440.365112, -4.856500],
			[419.989685, 1442.088257, -4.856472],
			[424.778534, 1442.829102, -2.876472],
			[425.041504, 1441.488647, -2.876500],
			[424.778534, 1442.829102, -2.876472],
			[424.778534, 1442.829102, -2.876472],
			[425.041504, 1441.488647, -2.876500],
			[424.778534, 1442.829102, 1.005043],
			[425.041504, 1441.488647, 1.005043],
			[425.041504, 1441.488647, 1.005043],
			[424.778534, 1442.829102, 1.005043],
			[402.582062, 1433.508057, -8.024500],
			[409.928284, 1430.467896, -7.034500],
			[410.993195, 1432.762207, -7.034500],
			[403.929749, 1436.411621, 1.005043],
			[403.929718, 1436.411621, -8.024500],
			[410.993195, 1432.762207, -7.034500],
			[402.582062, 1433.508057, -8.024500],
			[402.582062, 1433.507935, 1.005043],
			[409.928284, 1430.467896, -7.034500],
			[422.646240, 1425.205200, -2.876528],
			[418.172302, 1427.067139, -4.856500],
			[418.911530, 1428.659912, -4.856500],
			[418.172302, 1427.067139, -4.856500],
			[418.911530, 1428.659912, -4.856500],
			[423.221313, 1426.444214, -2.876528],
			[422.646240, 1425.205200, -2.876528],
			[423.221313, 1426.444214, -2.876528],
			[423.221313, 1426.444214, -2.876528],
			[422.646240, 1425.205200, -2.876528],
			[423.221313, 1426.444214, 1.005015],
			[422.646240, 1425.205200, 1.005015],
			[422.646240, 1425.205200, 1.005015],
			[423.221313, 1426.444214, 1.005015],
			[399.785187, 1431.951172, -8.024500],
			[403.941772, 1425.173462, -7.034500],
			[406.151764, 1426.403564, -7.034500],
			[402.582062, 1433.507935, 1.005043],
			[402.582062, 1433.508057, -8.024500],
			[406.151764, 1426.403564, -7.034500],
			[399.785187, 1431.951172, -8.024500],
			[399.785217, 1431.951172, 1.005043],
			[403.941772, 1425.173462, -7.034500],
			[411.137939, 1413.439941, -2.876528],
			[408.612732, 1417.576172, -4.856527],
			[410.146881, 1418.430176, -4.856527],
			[408.612732, 1417.576172, -4.856527],
			[410.146881, 1418.430176, -4.856527],
			[412.331390, 1414.104248, -2.876528],
			[411.137939, 1413.439941, -2.876528],
			[412.331390, 1414.104248, -2.876528],
			[412.331390, 1414.104248, -2.876528],
			[411.137939, 1413.439941, -2.876528],
			[412.331390, 1414.104248, 1.004987],
			[411.137939, 1413.439941, 1.004987],
			[411.137939, 1413.439941, 1.004987],
			[412.331390, 1414.104248, 1.004987],
			[396.607452, 1432.335815, -8.024500],
			[395.986694, 1424.409302, -7.034500],
			[398.497681, 1424.105347, -7.034500],
			[399.785217, 1431.951172, 1.005043],
			[399.785187, 1431.951172, -8.024500],
			[398.497681, 1424.105347, -7.034500],
			[396.607452, 1432.335815, -8.024500],
			[396.607452, 1432.335815, 1.005043],
			[395.986694, 1424.409302, -7.034500],
			[394.912384, 1410.686768, -2.876528],
			[395.300446, 1415.517334, -4.856527],
			[397.043518, 1415.306396, -4.856527],
			[395.300446, 1415.517334, -4.856527],
			[397.043518, 1415.306396, -4.856527],
			[396.268372, 1410.522583, -2.876528],
			[394.912384, 1410.686768, -2.876528],
			[396.268372, 1410.522583, -2.876528],
			[396.268372, 1410.522583, -2.876528],
			[394.912384, 1410.686768, -2.876528],
			[396.268372, 1410.522583, 1.004987],
			[394.912384, 1410.686768, 1.004987],
			[394.912384, 1410.686768, 1.004987],
			[396.268372, 1410.522583, 1.004987],
			[394.262573, 1434.515015, -8.024500],
			[389.101593, 1428.467285, -7.034500],
			[390.954468, 1426.745361, -7.034500],
			[396.607452, 1432.335815, 1.005043],
			[396.607452, 1432.335815, -8.024500],
			[390.954468, 1426.745361, -7.034500],
			[394.262573, 1434.515015, -8.024500],
			[394.262604, 1434.515015, 1.005043],
			[389.101593, 1428.467285, -7.034500],
			[380.167206, 1417.997314, -2.876528],
			[383.320282, 1421.677124, -4.856500],
			[384.606506, 1420.481812, -4.856500],
			[383.320282, 1421.677124, -4.856500],
			[384.606506, 1420.481812, -4.856500],
			[381.167755, 1417.067383, -2.876528],
			[380.167206, 1417.997314, -2.876528],
			[381.167755, 1417.067383, -2.876528],
			[381.167755, 1417.067383, -2.876528],
			[380.167206, 1417.997314, -2.876528],
			[381.167786, 1417.067383, 1.005015],
			[380.167206, 1417.997314, 1.005015],
			[380.167206, 1417.997314, 1.005015],
			[381.167786, 1417.067383, 1.005015],
			[393.646301, 1437.656250, -8.024473],
			[385.916412, 1435.797485, -7.034472],
			[386.403412, 1433.315308, -7.034500],
			[394.262604, 1434.515015, 1.005043],
			[394.262573, 1434.515015, -8.024500],
			[386.403412, 1433.315308, -7.034500],
			[393.646301, 1437.656250, -8.024473],
			[393.646301, 1437.656250, 1.005043],
			[385.916412, 1435.797485, -7.034472],
			[372.534515, 1432.579224, -2.876472],
			[377.248291, 1433.702759, -4.856472],
			[377.586334, 1431.979614, -4.856500],
			[377.248291, 1433.702759, -4.856472],
			[377.586334, 1431.979614, -4.856500],
			[372.797485, 1431.238770, -2.876500],
			[372.534515, 1432.579224, -2.876472],
			[372.797485, 1431.238770, -2.876500],
			[372.797485, 1431.238770, -2.876500],
			[372.534515, 1432.579224, -2.876472],
			[372.797485, 1431.238770, 1.005043],
			[372.534515, 1432.579224, 1.005043],
			[372.534515, 1432.579224, 1.005043],
			[372.797485, 1431.238770, 1.005043],
			[394.993958, 1440.559937, -8.024473],
			[387.647736, 1443.599976, -7.034472],
			[386.582825, 1441.305664, -7.034472],
			[393.646301, 1437.656250, 1.005043],
			[393.646301, 1437.656250, -8.024473],
			[386.582825, 1441.305664, -7.034472],
			[394.993958, 1440.559937, -8.024473],
			[394.993958, 1440.559814, 1.005043],
			[387.647736, 1443.599976, -7.034472],
			[374.929779, 1448.862671, -2.876445],
			[379.403717, 1447.000732, -4.856472],
			[378.664490, 1445.407959, -4.856472],
			[379.403717, 1447.000732, -4.856472],
			[378.664490, 1445.407959, -4.856472],
			[374.354706, 1447.623657, -2.876445],
			[374.929779, 1448.862671, -2.876445],
			[374.354706, 1447.623657, -2.876445],
			[374.354706, 1447.623657, -2.876445],
			[374.929779, 1448.862671, -2.876445],
			[374.354706, 1447.623657, 1.005070],
			[374.929810, 1448.862671, 1.005070],
			[374.929810, 1448.862671, 1.005070],
			[374.354706, 1447.623657, 1.005070],
			[397.790802, 1442.116699, -8.024473],
			[393.634247, 1448.894409, -7.034472],
			[391.424225, 1447.664307, -7.034472],
			[394.993958, 1440.559814, 1.005043],
			[394.993958, 1440.559937, -8.024473],
			[391.424225, 1447.664307, -7.034472],
			[397.790802, 1442.116699, -8.024473],
			[397.790833, 1442.116699, 1.005043],
			[393.634247, 1448.894409, -7.034472],
			[386.438080, 1460.627930, -2.876445],
			[388.963287, 1456.491699, -4.856445],
			[387.429138, 1455.637695, -4.856445],
			[388.963287, 1456.491699, -4.856445],
			[387.429138, 1455.637695, -4.856445],
			[385.244629, 1459.963623, -2.876445],
			[386.438080, 1460.627930, -2.876445],
			[385.244629, 1459.963623, -2.876445],
			[385.244629, 1459.963623, -2.876445],
			[386.438080, 1460.627930, -2.876445],
			[385.244629, 1459.963623, 1.005098],
			[386.438080, 1460.627930, 1.005098],
			[386.438080, 1460.627930, 1.005098],
			[385.244629, 1459.963623, 1.005098],
			[400.968567, 1441.732056, -8.024473],
			[401.589325, 1449.658569, -7.034472],
			[399.078339, 1449.962524, -7.034472],
			[397.790833, 1442.116699, 1.005043],
			[397.790802, 1442.116699, -8.024473],
			[399.078339, 1449.962524, -7.034472],
			[400.968567, 1441.732056, -8.024473],
			[400.968567, 1441.732056, 1.005043],
			[401.589325, 1449.658569, -7.034472],
			[402.663635, 1463.381104, -2.876445],
			[402.275574, 1458.550537, -4.856445],
			[400.532471, 1458.761475, -4.856445],
			[402.275574, 1458.550537, -4.856445],
			[400.532471, 1458.761475, -4.856445],
			[401.307648, 1463.545288, -2.876445],
			[402.663635, 1463.381104, -2.876445],
			[401.307648, 1463.545288, -2.876445],
			[401.307648, 1463.545288, -2.876445],
			[402.663635, 1463.381104, -2.876445],
			[401.307678, 1463.545288, 1.005098],
			[402.663635, 1463.381104, 1.005098],
			[402.663635, 1463.381104, 1.005098],
			[401.307678, 1463.545288, 1.005098],
			[408.474426, 1445.600586, -7.034472],
			[406.621552, 1447.322510, -7.034472],
			[400.968567, 1441.732056, 1.005043],
			[400.968567, 1441.732056, -8.024473],
			[406.621552, 1447.322510, -7.034472],
			[403.313416, 1439.552856, -8.024473],
			[403.313446, 1439.552856, 1.005043],
			[408.474426, 1445.600586, -7.034472],
			[417.408844, 1456.070557, -2.876445],
			[414.255737, 1452.390747, -4.856472],
			[412.969513, 1453.586060, -4.856472],
			[414.255737, 1452.390747, -4.856472],
			[412.969513, 1453.586060, -4.856472],
			[416.408264, 1457.000366, -2.876445],
			[417.408844, 1456.070557, -2.876445],
			[416.408264, 1457.000366, -2.876445],
			[416.408264, 1457.000366, -2.876445],
			[417.408844, 1456.070557, -2.876445],
			[416.408264, 1457.000366, 1.005070],
			[417.408844, 1456.070557, 1.005070],
			[417.408844, 1456.070557, 1.005070],
			[416.408264, 1457.000366, 1.005070],
		];
		three.expectVerticesInArray(expectedVertices, triggerMeshVertices, 2);
	});

	it('should generate a wire A trigger mesh', async () => {
		const triggerMesh = three.find<Mesh>(gltf, 'triggers', 'WireA', 'trigger-WireA');
		const triggerMeshVertices = three.vertices(triggerMesh);
		let expectedVertices = [
			[510.584137, 1405.083740, -33.562248],
			[510.584106, 1382.195068, 29.149363],
			[509.942322, 1383.282349, 29.149363],
			[509.942383, 1406.066895, -33.071007],
			[509.942383, 1406.066895, -33.071007],
			[509.942322, 1383.282349, 29.149363],
			[508.658813, 1383.282349, 29.149363],
			[508.658844, 1406.066895, -33.071007],
			[508.017059, 1382.195068, 29.149363],
			[508.017090, 1405.083740, -33.562248],
			[508.658813, 1381.107788, 29.149363],
			[508.658844, 1404.152588, -34.053566],
			[509.942322, 1381.107788, 29.149363],
			[509.942383, 1404.152588, -34.053566],
			[510.584137, 1406.779785, -36.450806],
			[509.942383, 1407.301758, -35.469326],
			[509.942383, 1407.301758, -35.469326],
			[508.658875, 1407.301758, -35.469326],
			[508.017090, 1406.779785, -36.450806],
			[508.658844, 1406.258057, -37.432205],
			[509.942383, 1406.258057, -37.432205],
			[510.584137, 1410.094238, -37.473286],
			[509.942383, 1410.094238, -36.364166],
			[509.942383, 1410.094238, -36.364166],
			[508.658875, 1410.094238, -36.364166],
			[508.017120, 1410.094238, -37.473286],
			[508.658875, 1410.094238, -38.582485],
			[509.942383, 1410.094238, -38.582485],
			[510.584259, 1471.439941, -12.250843],
			[509.942505, 1470.796265, -11.446362],
			[509.942505, 1470.796265, -11.446362],
			[508.658997, 1470.796265, -11.446362],
			[508.017212, 1471.439941, -12.250843],
			[508.658997, 1472.176147, -13.067883],
			[509.942505, 1472.176147, -13.067883],
			[510.584259, 1473.036499, -9.907923],
			[509.942505, 1471.968018, -9.601603],
			[509.942505, 1471.968018, -9.601603],
			[508.658997, 1471.968018, -9.601603],
			[508.017212, 1473.036499, -9.907923],
			[508.658997, 1474.104858, -10.214362],
			[509.942505, 1474.104858, -10.214362],
			[510.584259, 1469.272217, 29.149363],
			[509.942505, 1468.184937, 29.149363],
			[509.942505, 1468.184937, 29.149363],
			[508.658966, 1468.184937, 29.149363],
			[508.017212, 1469.272217, 29.149363],
			[508.658966, 1470.359497, 29.149363],
			[509.942505, 1470.359497, 29.149363],
		];
		three.expectVerticesInArray(expectedVertices, triggerMeshVertices);
	});

	it('should generate a wire B trigger mesh', async () => {
		const triggerMesh = three.find<Mesh>(gltf, 'triggers', 'WireB', 'trigger-WireB');
		const triggerMeshVertices = three.vertices(triggerMesh);
		let expectedVertices = [
			[632.321655, 1405.005005, -39.694489],
			[632.321655, 1359.432495, 9.088539],
			[631.679871, 1360.433350, 9.513376],
			[631.679932, 1405.718018, -38.858147],
			[631.679932, 1405.718018, -38.858147],
			[631.679871, 1360.433350, 9.513376],
			[630.396362, 1360.433350, 9.513376],
			[630.396423, 1405.718018, -38.858147],
			[629.754578, 1359.432495, 9.088541],
			[629.754639, 1405.005005, -39.694489],
			[630.396362, 1358.431641, 8.663719],
			[630.396423, 1404.339722, -40.510597],
			[631.679871, 1358.431641, 8.663719],
			[631.679932, 1404.339722, -40.510601],
			[632.321716, 1407.694824, -41.690704],
			[631.679932, 1407.791748, -40.583336],
			[631.679932, 1407.791748, -40.583336],
			[630.396423, 1407.791748, -40.583336],
			[629.754639, 1407.694824, -41.690704],
			[630.396423, 1407.598022, -42.797974],
			[631.679932, 1407.598022, -42.797974],
			[632.321716, 1411.145264, -41.336876],
			[631.679932, 1410.711914, -40.315926],
			[631.679932, 1410.711914, -40.315926],
			[630.396423, 1410.711914, -40.315922],
			[629.754639, 1411.145264, -41.336872],
			[630.396423, 1411.578735, -42.357895],
			[631.679932, 1411.578613, -42.357899],
			[632.321838, 1457.759033, 5.850178],
			[631.680054, 1456.852295, 6.339217],
			[631.680054, 1456.852295, 6.339217],
			[630.396545, 1456.852295, 6.339217],
			[629.754761, 1457.759033, 5.850182],
			[630.396545, 1458.756104, 5.385777],
			[631.680054, 1458.756104, 5.385777],
			[632.321838, 1458.313232, 8.630676],
			[631.680054, 1457.210083, 8.495155],
			[631.680054, 1457.210083, 8.495155],
			[630.396545, 1457.210083, 8.495155],
			[629.754761, 1458.313232, 8.630680],
			[630.396545, 1459.416504, 8.766041],
			[631.680054, 1459.416504, 8.766041],
			[632.321838, 1439.587280, 43.112270],
			[631.680054, 1438.586548, 42.687447],
			[631.680054, 1438.586548, 42.687447],
			[630.396545, 1438.586548, 42.687447],
			[629.754761, 1439.587280, 43.112274],
			[630.396545, 1440.588135, 43.537109],
			[631.680054, 1440.588135, 43.537109],
		];
		three.expectVerticesInArray(expectedVertices, triggerMeshVertices, 2);
	});

	it('should generate a wire C trigger mesh', async () => {
		const triggerMesh = three.find<Mesh>(gltf, 'triggers', 'WireC', 'trigger-WireC');
		const triggerMeshVertices = three.vertices(triggerMesh);
		let expectedVertices = [
			[868.305176, 1412.048950, 59.187416],
			[868.305176, 1469.892944, 25.860090],
			[867.663391, 1469.060059, 25.161194],
			[867.663452, 1411.611572, 58.179138],
			[867.663452, 1411.611572, 58.179138],
			[867.663391, 1469.060059, 25.161194],
			[866.379883, 1469.060059, 25.161194],
			[866.379944, 1411.611572, 58.179134],
			[865.738098, 1469.892944, 25.860085],
			[865.738159, 1412.048950, 59.187412],
			[866.379883, 1470.725830, 26.558956],
			[866.379944, 1412.446411, 60.162350],
			[867.663391, 1470.725830, 26.558956],
			[867.663452, 1412.446411, 60.162354],
			[868.305237, 1408.892944, 60.309952],
			[867.663452, 1409.124023, 59.222637],
			[867.663452, 1409.124023, 59.222637],
			[866.379944, 1409.124023, 59.222633],
			[865.738159, 1408.892944, 60.309952],
			[866.379944, 1408.661865, 61.397156],
			[867.663452, 1408.661865, 61.397156],
			[868.305237, 1405.696777, 58.962780],
			[867.663452, 1406.409668, 58.113144],
			[867.663452, 1406.409668, 58.113144],
			[866.379944, 1406.409668, 58.113144],
			[865.738159, 1405.696777, 58.962776],
			[866.379944, 1404.983765, 59.812473],
			[867.663452, 1404.983765, 59.812477],
			[868.305359, 1374.915894, 0.209019],
			[867.663574, 1375.926025, 0.006470],
			[867.663574, 1375.926025, 0.006470],
			[866.380066, 1375.926025, 0.006470],
			[865.738281, 1374.915894, 0.209011],
			[866.380066, 1373.826660, 0.361629],
			[867.663574, 1373.826660, 0.361629],
			[868.305359, 1375.198853, -2.612020],
			[867.663574, 1376.214233, -2.159866],
			[867.663574, 1376.214233, -2.159866],
			[866.380066, 1376.214233, -2.159866],
			[865.738281, 1375.198853, -2.612024],
			[866.380066, 1374.183472, -3.064007],
			[867.663574, 1374.183472, -3.064007],
			[868.305359, 1403.187988, -30.111992],
			[867.663574, 1404.020874, -29.413124],
			[867.663574, 1404.020874, -29.413124],
			[866.380066, 1404.020874, -29.413124],
			[865.738281, 1403.187988, -30.111996],
			[866.380066, 1402.355103, -30.810886],
			[867.663574, 1402.355103, -30.810886],
		];
		three.expectVerticesInArray(expectedVertices, triggerMeshVertices);
	});

	it('should generate a wire D trigger mesh', async () => {
		const triggerMesh = three.find<Mesh>(gltf, 'triggers', 'WireD', 'trigger-WireD');
		const triggerMeshVertices = three.vertices(triggerMesh);
		let expectedVertices = [
			[503.068207, 1569.602173, -1.965605],
			[503.078491, 1570.138184, -1.522005],
			[503.141296, 1574.468994, -8.003286],
			[500.560303, 1604.757813, -21.890282],
			[500.560272, 1596.625366, -20.785486],
			[501.092194, 1596.969849, -21.758400],
			[501.132202, 1628.261597, -12.612796],
			[501.131897, 1620.755859, -16.663897],
			[500.718292, 1620.985840, -17.133097],
			[503.141815, 1596.457886, -20.424641],
			[502.805298, 1597.217407, -19.581301],
			[502.805695, 1604.969727, -20.586599],
			[501.093597, 1568.977539, -2.482505],
			[500.728546, 1565.379395, 5.788297],
			[501.837952, 1565.036377, 5.117660],
			[500.717712, 1597.188843, -19.832199],
			[500.718018, 1604.998047, -20.836201],
			[501.131195, 1604.938354, -20.311600],
			[500.846893, 1643.333252, 6.677061],
			[501.364746, 1645.521729, 5.941420],
			[502.490814, 1645.441772, 5.968322],
			[502.308411, 1575.668823, -7.277804],
			[501.703918, 1575.726807, -7.200004],
			[501.704315, 1581.812866, -12.270403],
			[501.091705, 1605.217163, -22.762600],
			[501.658691, 1596.939575, -22.023300],
			[503.124695, 1565.936768, 6.185764],
			[502.653717, 1565.330811, 5.401894],
			[500.557434, 1569.385376, -1.519590],
			[500.636475, 1566.172241, 6.930429],
			[500.728546, 1565.379395, 5.788297],
			[502.773010, 1629.593262, -14.395696],
			[503.141602, 1628.453735, -13.994975],
			[503.141296, 1634.960693, -8.777613],
			[501.660492, 1568.778809, -2.646805],
			[501.659912, 1573.978638, -9.540904],
			[501.093109, 1574.134766, -9.331604],
			[502.804108, 1570.617065, -1.125705],
			[500.718903, 1634.767578, -7.925395],
			[500.718597, 1628.571533, -13.027796],
			[500.559875, 1628.805542, -14.125152],
			[503.141144, 1639.935913, -2.330201],
			[502.807312, 1639.450806, -1.283294],
			[502.636505, 1643.144165, 6.740617],
			[502.773804, 1605.194214, -22.561499],
			[503.141632, 1604.563477, -21.578358],
			[503.141602, 1612.412720, -20.722124],
			[501.092804, 1580.631958, -14.679803],
			[500.560852, 1580.628296, -13.639119],
			[502.804810, 1581.587646, -12.730204],
			[502.308807, 1581.769775, -12.358503],
			[502.308990, 1589.261108, -16.448803],
			[502.490814, 1645.441772, 5.968322],
			[501.364746, 1645.521729, 5.941420],
			[501.655609, 1641.524414, -2.409393],
			[501.090607, 1629.710938, -14.553394],
			[501.091003, 1621.830933, -18.857595],
			[501.657318, 1621.947510, -19.095495],
			[502.264404, 1621.915894, -19.030897],
			[502.264008, 1629.825806, -14.707095],
			[502.266205, 1588.450439, -19.120401],
			[502.774597, 1588.565308, -18.742102],
			[502.774200, 1596.992676, -21.556200],
			[502.772095, 1641.130005, -2.195193],
			[502.772491, 1636.068237, -9.001694],
			[502.312408, 1639.096191, -1.090794],
			[502.263306, 1636.363770, -9.246294],
			[501.656097, 1636.417480, -9.290794],
			[501.656799, 1629.868164, -14.763996],
			[502.772095, 1641.130005, -2.195193],
			[502.262817, 1641.463867, -2.376493],
			[502.806519, 1628.425415, -12.832096],
			[502.311218, 1628.179077, -12.502295],
			[502.311890, 1634.269165, -7.512994],
			[502.773315, 1621.743408, -18.678696],
			[503.141602, 1620.612915, -18.104788],
			[500.560760, 1574.398193, -8.374647],
			[501.093597, 1568.977539, -2.482505],
			[502.805908, 1612.770630, -19.621498],
			[500.846893, 1643.333252, 6.677061],
			[501.133209, 1639.213867, -1.154594],
			[500.719208, 1639.659058, -1.396394],
			[502.310089, 1604.922363, -20.170700],
			[501.705811, 1604.911133, -20.071402],
			[501.706207, 1612.620605, -19.126799],
			[501.704712, 1589.289673, -16.354103],
			[501.130005, 1581.707275, -12.486003],
			[501.706207, 1612.620605, -19.126799],
			[501.705811, 1604.911133, -20.071402],
			[501.706604, 1620.650635, -16.449295],
			[501.131500, 1612.690308, -19.356998],
			[502.804504, 1575.423218, -7.606404],
			[502.662628, 1566.647461, 7.272000],
			[501.569946, 1566.745850, 7.591618],
			[501.703308, 1571.002563, -0.806505],
			[502.774200, 1596.992676, -21.556200],
			[502.265808, 1596.947876, -21.950399],
			[502.773804, 1605.194214, -22.561499],
			[501.092499, 1588.506226, -18.936701],
			[501.659515, 1580.515991, -14.916603],
			[501.089600, 1641.297729, -2.286294],
			[500.576172, 1644.610474, 6.247767],
			[500.559967, 1640.299683, -2.299684],
			[502.266907, 1574.022095, -9.482604],
			[502.266418, 1580.548218, -14.851003],
			[502.265106, 1605.239014, -22.955400],
			[502.773315, 1621.743408, -18.678696],
			[502.773010, 1629.593262, -14.395696],
			[502.774719, 1580.721069, -14.497903],
			[503.141449, 1580.594604, -13.241246],
			[503.141632, 1588.151611, -17.494204],
			[501.130310, 1589.219604, -16.585102],
			[500.717316, 1581.476685, -12.956002],
			[500.717102, 1575.273682, -7.806804],
			[501.705109, 1597.275757, -19.066801],
			[501.130615, 1597.248413, -19.307301],
			[502.308990, 1589.261108, -16.448803],
			[502.310089, 1604.922363, -20.170700],
			[502.310516, 1612.649536, -19.222298],
			[502.774597, 1588.565308, -18.742102],
			[502.265106, 1605.239014, -22.955400],
			[502.773804, 1605.194214, -22.561499],
			[502.773499, 1613.345459, -21.516298],
			[503.139221, 1644.331909, 6.341380],
			[502.490814, 1645.441772, 5.968322],
			[500.559875, 1635.299683, -8.853525],
			[500.893951, 1570.657837, -1.021390],
			[501.129700, 1575.584229, -7.390904],
			[500.559875, 1635.299683, -8.853525],
			[500.559875, 1628.805542, -14.125152],
			[501.090118, 1636.217163, -9.124994],
			[502.267517, 1568.834473, -2.600805],
			[502.775391, 1569.131470, -2.355005],
			[502.774994, 1574.255493, -9.170104],
			[502.775391, 1569.131470, -2.355005],
			[500.560272, 1596.625366, -20.785486],
			[502.807007, 1634.582764, -7.772494],
			[502.308807, 1581.769775, -12.358503],
			[500.560272, 1620.959229, -18.290659],
			[500.717102, 1575.273682, -7.806804],
			[501.132813, 1634.373657, -7.599394],
			[501.708618, 1642.890137, 6.826007],
			[501.708191, 1639.010620, -1.044294],
			[502.310791, 1620.694336, -16.538496],
			[501.707001, 1628.119873, -12.423196],
			[502.806213, 1620.877075, -16.911097],
			[502.774994, 1574.255493, -9.170104],
			[502.774719, 1580.721069, -14.497903],
			[501.657990, 1605.247437, -23.027901],
			[502.264801, 1613.459961, -21.893898],
			[502.307800, 1570.928955, -0.867405],
			[502.308411, 1575.668823, -7.277804],
			[500.560852, 1580.628296, -13.639119],
			[500.717316, 1581.476685, -12.956002],
			[502.312408, 1639.096191, -1.090794],
			[501.091217, 1613.403809, -21.708498],
			[501.657593, 1613.481079, -21.963299],
			[500.718201, 1612.843140, -19.860098],
			[500.560272, 1620.959229, -18.290659],
			[502.773499, 1613.345459, -21.516298],
			[502.309509, 1597.264771, -19.165701],
			[502.311218, 1628.179077, -12.502295],
			[501.707703, 1634.193848, -7.450494],
			[500.560730, 1588.275146, -17.889835],
			[500.560730, 1588.275146, -17.889835],
			[500.717499, 1589.066772, -17.088802],
			[501.091705, 1605.217163, -22.762600],
			[500.560425, 1612.697144, -20.976017],
			[502.307800, 1570.928955, -0.867405],
			[502.310791, 1620.694336, -16.538496],
			[502.804993, 1589.140259, -16.847303],
			[502.310516, 1612.649536, -19.222298],
			[500.559967, 1640.299683, -2.299684],
			[500.560303, 1604.757813, -21.890282],
			[500.560425, 1612.697144, -20.976017],
			[501.130615, 1597.248413, -19.307301],
			[501.659119, 1588.429321, -19.190603],
			[502.311890, 1634.269165, -7.512994],
			[502.309509, 1597.264771, -19.165701],
			[502.653717, 1565.330811, 5.401894],
			[500.893951, 1570.657837, -1.021390],
			[502.772491, 1636.068237, -9.001694],
			[503.124695, 1565.936768, 6.185764],
			[502.653717, 1565.330811, 5.401894],
			[501.837952, 1565.036377, 5.117660],
			[501.569946, 1566.745850, 7.591618],
			[502.662628, 1566.647461, 7.272000],
			[501.708618, 1642.890137, 6.826007],
			[503.139221, 1644.331909, 6.341380],
			[502.636505, 1643.144165, 6.740617],
			[500.576172, 1644.610474, 6.247767],
			[501.657990, 1605.247437, -23.027901],
			[500.560760, 1574.398193, -8.374647],
			[501.093109, 1574.134766, -9.331604],
			[502.310516, 1612.649536, -19.222298],
			[500.576172, 1644.610474, 6.247767],
			[500.717499, 1589.066772, -17.088802],
			[501.131195, 1604.938354, -20.311600],
			[502.636505, 1643.144165, 6.740617],
			[500.560303, 1604.757813, -21.890282],
			[501.130310, 1589.219604, -16.585102],
			[500.636475, 1566.172241, 6.930429],
			[502.662628, 1566.647461, 7.272000],
		];
		three.expectVerticesInArray(expectedVertices, triggerMeshVertices);
	});

	it('should generate a wire trigger mesh with a thick wire', async () => {
		const triggerMesh = three.find<Mesh>(gltf, 'triggers', 'ThickWire', 'trigger-ThickWire');
		const triggerMeshVertices = three.vertices(triggerMesh);
		let expectedVertices = [
			[306.821442, 1563.499390, -1.965605],
			[306.690918, 1564.019409, -1.522005],
			[305.616730, 1568.215454, -8.003286],
			[295.189636, 1596.769653, -21.890282],
			[297.320496, 1588.921387, -20.785486],
			[297.743561, 1589.393188, -21.758400],
			[289.583069, 1619.602173, -12.612796],
			[291.549469, 1612.358521, -16.663897],
			[291.090027, 1612.472168, -17.133097],
			[299.855713, 1589.436157, -20.424641],
			[299.331940, 1590.080933, -19.581301],
			[297.301056, 1597.562500, -20.586599],
			[305.079498, 1562.379150, -2.482505],
			[305.669952, 1558.811157, 5.788297],
			[306.830505, 1558.770752, 5.117660],
			[297.324768, 1589.506348, -19.832199],
			[295.278900, 1597.042847, -20.836201],
			[295.693298, 1597.093506, -20.311600],
			[285.358643, 1634.072510, 6.677061],
			[285.284973, 1636.320190, 5.941420],
			[286.392639, 1636.538086, 5.968322],
			[304.498596, 1569.155029, -7.277804],
			[303.899994, 1569.052612, -7.200004],
			[302.305695, 1574.926147, -12.270403],
			[295.582092, 1597.352295, -22.762600],
			[298.298218, 1589.512329, -22.023300],
			[307.836365, 1559.976929, 6.185764],
			[307.540588, 1559.268677, 5.401894],
			[304.455200, 1562.632324, -1.519590],
			[305.373352, 1559.552246, 6.930429],
			[305.669952, 1558.811157, 5.788297],
			[290.817627, 1621.317139, -14.395696],
			[291.471924, 1620.314087, -13.994975],
			[289.766693, 1626.593628, -8.777613],
			[305.678650, 1562.335938, -2.646805],
			[304.315613, 1567.354004, -9.540904],
			[303.727692, 1567.356201, -9.331604],
			[306.300598, 1564.409668, -1.125705],
			[287.479492, 1625.772583, -7.925395],
			[289.102722, 1619.792847, -13.027796],
			[288.888214, 1619.977173, -14.125152],
			[288.462891, 1631.395020, -2.330201],
			[288.267853, 1630.839355, -1.283294],
			[287.135254, 1634.358887, 6.740617],
			[297.211456, 1597.770874, -22.561499],
			[297.731689, 1597.258545, -21.578358],
			[295.674988, 1604.833496, -20.722124],
			[302.024994, 1573.626343, -14.679803],
			[301.512604, 1573.483276, -13.639119],
			[303.426788, 1574.997070, -12.730204],
			[302.900391, 1575.042847, -12.358503],
			[300.937683, 1582.272583, -16.448803],
			[286.392639, 1636.538086, 5.968322],
			[285.284973, 1636.320190, 5.941420],
			[286.613068, 1632.538696, -2.409393],
			[289.163177, 1620.989990, -14.553394],
			[291.228302, 1613.385376, -18.857595],
			[291.744263, 1613.646240, -19.095495],
			[292.338409, 1613.774780, -19.030897],
			[290.265472, 1621.408325, -14.707095],
			[301.108826, 1581.479004, -19.120401],
			[301.569336, 1581.723145, -18.742102],
			[299.360840, 1589.855835, -21.556200],
			[287.793884, 1632.450684, -2.195193],
			[289.120575, 1627.565796, -9.001694],
			[287.883148, 1630.367432, -1.090794],
			[288.551727, 1627.717529, -9.246294],
			[287.951660, 1627.610352, -9.290794],
			[289.668396, 1621.290039, -14.763996],
			[287.793884, 1632.450684, -2.195193],
			[287.214905, 1632.639404, -2.376493],
			[291.155945, 1620.198975, -12.832096],
			[290.742493, 1619.831421, -12.502295],
			[289.147430, 1625.708984, -7.512994],
			[292.874725, 1613.741699, -18.678696],
			[293.526367, 1612.747192, -18.104788],
			[303.144928, 1567.470825, -8.374647],
			[305.079498, 1562.379150, -2.482505],
			[295.257263, 1605.090942, -19.621498],
			[285.358643, 1634.072510, 6.677061],
			[286.714325, 1630.171997, -1.154594],
			[286.198151, 1630.493164, -1.396394],
			[296.835175, 1597.387085, -20.170700],
			[296.254944, 1597.217773, -20.071402],
			[294.235291, 1604.658081, -19.126799],
			[300.347046, 1582.141724, -16.354103],
			[301.779144, 1574.673828, -12.486003],
			[294.235291, 1604.658081, -19.126799],
			[296.254944, 1597.217773, -20.071402],
			[292.131653, 1612.407593, -16.449295],
			[293.662384, 1604.574707, -19.356998],
			[305.041687, 1569.047974, -7.606404],
			[307.204224, 1560.541748, 7.272000],
			[306.123901, 1560.350342, 7.591618],
			[305.137268, 1564.493286, -0.806505],
			[299.360840, 1589.855835, -21.556200],
			[298.881897, 1589.679565, -21.950399],
			[297.211456, 1597.770874, -22.561499],
			[299.961487, 1581.225342, -18.936701],
			[302.602295, 1573.662842, -14.916603],
			[286.126221, 1632.171631, -2.286294],
			[284.762726, 1635.234131, 6.247767],
			[285.876617, 1631.069702, -2.299684],
			[304.890015, 1567.554932, -9.482604],
			[303.179535, 1573.852905, -14.851003],
			[296.708801, 1597.680786, -22.955400],
			[292.874725, 1613.741699, -18.678696],
			[290.817627, 1621.317139, -14.395696],
			[303.624786, 1574.152954, -14.497903],
			[304.011871, 1574.126953, -13.241246],
			[302.031952, 1581.420044, -17.494204],
			[299.811066, 1581.923706, -16.585102],
			[301.441284, 1574.343140, -12.956002],
			[303.066406, 1568.356812, -7.806804],
			[298.254883, 1589.848999, -19.066801],
			[297.707642, 1589.672119, -19.307301],
			[300.937683, 1582.272583, -16.448803],
			[296.835175, 1597.387085, -20.170700],
			[294.810913, 1604.844238, -19.222298],
			[301.569336, 1581.723145, -18.742102],
			[296.708801, 1597.680786, -22.955400],
			[297.211456, 1597.770874, -22.561499],
			[295.075378, 1605.637207, -21.516298],
			[287.309235, 1635.636841, 6.341380],
			[286.392639, 1636.538086, 5.968322],
			[287.186615, 1626.244385, -8.853525],
			[304.446533, 1563.948486, -1.021390],
			[303.383240, 1568.764526, -7.390904],
			[287.186615, 1626.244385, -8.853525],
			[288.888214, 1619.977173, -14.125152],
			[287.457916, 1627.268799, -9.124994],
			[306.249847, 1562.548828, -2.600805],
			[306.662170, 1562.968506, -2.355005],
			[305.319183, 1567.913330, -9.170104],
			[306.662170, 1562.968506, -2.355005],
			[297.320496, 1588.921387, -20.785486],
			[289.543091, 1626.141235, -7.772494],
			[302.900391, 1575.042847, -12.358503],
			[290.944519, 1612.405029, -18.290659],
			[303.066406, 1568.356812, -7.806804],
			[287.982147, 1625.500854, -7.599394],
			[286.306366, 1633.870605, 6.826007],
			[287.322479, 1630.126587, -1.044294],
			[292.703278, 1612.608032, -16.538496],
			[290.174927, 1619.616089, -12.423196],
			[293.133514, 1612.914185, -16.911097],
			[305.319183, 1567.913330, -9.170104],
			[303.624786, 1574.152954, -14.497903],
			[296.120697, 1597.529785, -23.027901],
			[294.554413, 1605.614502, -21.893898],
			[305.739929, 1564.580688, -0.867405],
			[304.498596, 1569.155029, -7.277804],
			[301.512604, 1573.483276, -13.639119],
			[301.441284, 1574.343140, -12.956002],
			[287.883148, 1630.367432, -1.090794],
			[293.436554, 1605.252686, -21.708498],
			[293.962921, 1605.475708, -21.963299],
			[293.223511, 1604.613892, -19.860098],
			[290.944519, 1612.405029, -18.290659],
			[295.075378, 1605.637207, -21.516298],
			[298.841064, 1589.996704, -19.165701],
			[290.742493, 1619.831421, -12.502295],
			[288.584106, 1625.477905, -7.450494],
			[299.508850, 1580.862915, -17.889835],
			[299.508850, 1580.862915, -17.889835],
			[299.452698, 1581.668091, -17.088802],
			[295.582092, 1597.352295, -22.762600],
			[293.109497, 1604.431641, -20.976017],
			[305.739929, 1564.580688, -0.867405],
			[292.703278, 1612.608032, -16.538496],
			[301.448059, 1582.285889, -16.847303],
			[294.810913, 1604.844238, -19.222298],
			[285.876617, 1631.069702, -2.299684],
			[295.189636, 1596.769653, -21.890282],
			[293.109497, 1604.431641, -20.976017],
			[297.707642, 1589.672119, -19.307301],
			[300.528442, 1581.299561, -19.190603],
			[289.147430, 1625.708984, -7.512994],
			[298.841064, 1589.996704, -19.165701],
			[307.540588, 1559.268677, 5.401894],
			[304.446533, 1563.948486, -1.021390],
			[289.120575, 1627.565796, -9.001694],
			[307.836365, 1559.976929, 6.185764],
			[307.540588, 1559.268677, 5.401894],
			[306.830505, 1558.770752, 5.117660],
			[306.123901, 1560.350342, 7.591618],
			[307.204224, 1560.541748, 7.272000],
			[286.306366, 1633.870605, 6.826007],
			[287.309235, 1635.636841, 6.341380],
			[287.135254, 1634.358887, 6.740617],
			[284.762726, 1635.234131, 6.247767],
			[296.120697, 1597.529785, -23.027901],
			[303.144928, 1567.470825, -8.374647],
			[303.727692, 1567.356201, -9.331604],
			[294.810913, 1604.844238, -19.222298],
			[284.762726, 1635.234131, 6.247767],
			[299.452698, 1581.668091, -17.088802],
			[295.693298, 1597.093506, -20.311600],
			[287.135254, 1634.358887, 6.740617],
			[295.189636, 1596.769653, -21.890282],
			[299.811066, 1581.923706, -16.585102],
			[305.373352, 1559.552246, 6.930429],
			[307.204224, 1560.541748, 7.272000],
		];
		three.expectVerticesInArray(expectedVertices, triggerMeshVertices);
	});

	it('should generate a wire trigger mesh on a surface', async () => {
		const triggerMesh = three.find<Mesh>(gltf, 'triggers', 'Surface', 'trigger-Surface');
		const triggerMeshVertices = three.vertices(triggerMesh);
		let expectedVertices = [
			[491.855377, 120.284477, -33.562248],
			[491.855347, 97.395813, 29.149363],
			[491.213562, 98.483093, 29.149363],
			[491.213623, 121.267639, -33.071007],
			[491.213623, 121.267639, -33.071007],
			[491.213562, 98.483093, 29.149363],
			[489.930054, 98.483093, 29.149363],
			[489.930084, 121.267647, -33.071007],
			[489.288300, 97.395813, 29.149363],
			[489.288330, 120.284485, -33.562248],
			[489.930054, 96.308563, 29.149363],
			[489.930084, 119.353279, -34.053566],
			[491.213562, 96.308563, 29.149363],
			[491.213623, 119.353271, -34.053566],
			[491.855377, 121.980568, -36.450806],
			[491.213623, 122.502449, -35.469326],
			[491.213623, 122.502449, -35.469326],
			[489.930115, 122.502457, -35.469326],
			[489.288330, 121.980576, -36.450806],
			[489.930084, 121.458771, -37.432205],
			[491.213623, 121.458763, -37.432205],
			[491.855377, 125.294945, -37.473286],
			[491.213623, 125.294945, -36.364166],
			[491.213623, 125.294945, -36.364166],
			[489.930115, 125.294945, -36.364166],
			[489.288361, 125.294945, -37.473286],
			[489.930115, 125.294945, -38.582485],
			[491.213623, 125.294945, -38.582485],
			[491.855499, 186.640625, -12.250843],
			[491.213745, 185.996994, -11.446362],
			[491.213745, 185.996994, -11.446362],
			[489.930237, 185.996994, -11.446362],
			[489.288452, 186.640640, -12.250843],
			[489.930237, 187.376923, -13.067883],
			[491.213745, 187.376923, -13.067883],
			[491.855499, 188.237198, -9.907923],
			[491.213745, 187.168716, -9.601603],
			[491.213745, 187.168716, -9.601603],
			[489.930237, 187.168716, -9.601603],
			[489.288452, 188.237213, -9.907923],
			[489.930237, 189.305573, -10.214362],
			[491.213745, 189.305573, -10.214362],
			[491.855499, 184.472900, 29.149363],
			[491.213745, 183.385651, 29.149363],
			[491.213745, 183.385651, 29.149363],
			[489.930206, 183.385651, 29.149363],
			[489.288452, 184.472916, 29.149363],
			[489.930206, 185.560196, 29.149363],
			[491.213745, 185.560196, 29.149363],
		];
		three.expectVerticesInArray(expectedVertices, triggerMeshVertices);
	});

});
