/*
 * VPDB - Virtual Pinball Database
 * Copyright (C) 2019 freezy <freezy@vpdb.io>
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 */

import { GLTF } from 'three/examples/jsm/loaders/GLTFLoader';
import { Mesh } from 'three/src/objects/Mesh';
import { ThreeHelper } from '../../../test/three.helper';
import { NodeBinaryReader } from '../../io/binary-reader.node';
import { Table } from '../table/table';
import { TableExporter } from '../table/table-exporter';

const three = new ThreeHelper();

describe('The VPinball hit target generator', () => {

	let gltf: GLTF;

	before(async () => {
		const table = await Table.load(new NodeBinaryReader(three.fixturePath('table-hit-target.vpx')));
		const exporter = new TableExporter(table);
		gltf = await three.loadGlb(await exporter.exportGlb());
	});

	it('should generate a beveled drop target mesh', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'DropTargetBeveled', 'hittarget-DropTargetBeveled');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[141.800003, 1081.800049, -15.592000],
			[108.199997, 1081.800049, -15.592000],
			[138.600006, 1081.800049, -47.591999],
			[141.800003, 1081.800049, -47.591999],
			[108.199997, 1081.800049, -47.591999],
			[111.400002, 1081.800049, -47.591999],
			[138.600006, 1081.800049, -52.391998],
			[111.400002, 1081.800049, -52.391998],
			[141.800003, 1085.000000, -52.391998],
			[138.600006, 1085.000000, -52.391998],
			[111.400002, 1085.000000, -52.391998],
			[108.199997, 1085.000000, -52.391998],
			[111.400002, 1085.000000, -52.391998],
			[111.400002, 1081.800049, -52.391998],
			[111.400002, 1081.800049, -47.591999],
			[138.600006, 1081.800049, -47.591999],
			[138.600006, 1081.800049, -52.391998],
			[138.600006, 1085.000000, -52.391998],
			[138.600006, 1081.800049, -52.391998],
			[111.400002, 1081.800049, -52.391998],
			[138.600006, 1085.000000, -52.391998],
			[111.400002, 1085.000000, -52.391998],
			[141.800003, 1085.000000, -55.591999],
			[108.199997, 1085.000000, -55.591999],
			[141.800003, 1069.000000, -55.591999],
			[141.800003, 1085.000000, -55.591999],
			[108.199997, 1085.000000, -55.591999],
			[108.199997, 1069.000000, -55.591999],
			[141.800003, 1069.000000, -52.391998],
			[141.800003, 1069.000000, -55.591999],
			[108.199997, 1069.000000, -55.591999],
			[108.199997, 1069.000000, -52.391998],
			[141.800003, 1070.599976, -50.792000],
			[141.800003, 1069.000000, -52.391998],
			[108.199997, 1069.000000, -52.391998],
			[108.199997, 1070.599976, -50.792000],
			[141.800003, 1070.599976, -15.592000],
			[141.800003, 1070.599976, -50.792000],
			[108.199997, 1070.599976, -50.792000],
			[108.199997, 1070.599976, -15.592000],
			[108.199997, 1070.599976, 5.208000],
			[141.800003, 1070.599976, 5.208000],
			[108.199997, 1069.000000, -52.391998],
			[108.199997, 1069.000000, -55.591999],
			[108.199997, 1085.000000, -55.591999],
			[108.199997, 1085.000000, -52.391998],
			[108.199997, 1070.599976, -50.792000],
			[108.199997, 1081.800049, -47.591999],
			[108.199997, 1070.599976, -15.592000],
			[108.199997, 1081.800049, -4.392000],
			[108.199997, 1075.400024, 3.608000],
			[108.199997, 1081.800049, -15.592000],
			[141.800003, 1085.000000, -55.591999],
			[141.800003, 1069.000000, -55.591999],
			[141.800003, 1069.000000, -52.391998],
			[141.800003, 1085.000000, -52.391998],
			[141.800003, 1070.599976, -50.792000],
			[141.800003, 1081.800049, -47.591999],
			[141.800003, 1081.800049, -15.592000],
			[141.800003, 1070.599976, -15.592000],
			[141.800003, 1075.400024, 3.608000],
			[141.800003, 1081.800049, -4.392000],
			[108.199997, 1081.800049, -4.392000],
			[141.800003, 1081.800049, -4.392000],
			[141.800003, 1075.400024, 3.608000],
			[108.199997, 1075.400024, 3.608000],
			[141.800003, 1070.599976, 5.208000],
			[108.199997, 1075.400024, 5.208000],
			[108.199997, 1075.400024, 3.608000],
			[141.800003, 1075.400024, 3.608000],
			[141.800003, 1075.400024, 5.208000],
			[141.800003, 1075.400024, 5.208000],
			[108.199997, 1075.400024, 5.208000],
			[108.199997, 1070.599976, 5.208000],
			[108.199997, 1081.800049, -4.392000],
			[141.800003, 1081.800049, -4.392000],
			[131.399994, 1075.400024, 3.608000],
			[130.542557, 1078.599976, 3.608000],
			[130.542557, 1078.599976, -4.392000],
			[128.199997, 1080.942505, 3.608000],
			[128.199997, 1080.942505, -4.392000],
			[125.000000, 1081.800049, 3.608000],
			[125.000000, 1081.800049, -4.392000],
			[121.800003, 1080.942505, 3.608000],
			[121.800003, 1080.942505, -4.392000],
			[119.457443, 1078.599976, 3.608000],
			[119.457443, 1078.599976, -4.392000],
			[118.599998, 1075.400024, 3.608000],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate a flat simple drop target mesh', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'DropTargetFlatSimple', 'hittarget-DropTargetFlatSimple');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[236.600006, 1074.111694, -55.677631],
			[236.600006, 1078.199951, -15.677632],
			[236.600006, 1078.199951, -55.677631],
			[236.600006, 1071.890137, -15.677632],
			[201.399994, 1078.199951, -55.677631],
			[201.399994, 1071.890137, -15.677632],
			[201.399994, 1074.111694, -55.677631],
			[201.399994, 1078.199951, -15.677632],
			[201.868637, 1078.199951, -56.808990],
			[201.868637, 1074.174683, -56.808990],
			[203.000000, 1078.199951, -57.277634],
			[203.000000, 1074.199951, -57.277634],
			[203.000000, 1078.199951, -14.077632],
			[203.000000, 1071.800049, -14.077632],
			[201.868637, 1078.199951, -14.546240],
			[201.868637, 1071.826416, -14.546240],
			[235.000000, 1078.199951, -57.277634],
			[235.000000, 1074.199951, -57.277634],
			[236.131363, 1078.199951, -56.808990],
			[236.131363, 1074.174683, -56.808990],
			[236.131363, 1078.199951, -14.546240],
			[236.131363, 1071.826416, -14.546240],
			[235.000000, 1078.199951, -14.077632],
			[235.000000, 1071.800049, -14.077632],
			[209.399994, 1071.800049, -14.077632],
			[209.399994, 1078.199951, -14.077632],
			[228.600006, 1071.800049, -14.077632],
			[228.600006, 1078.199951, -14.077632],
			[209.399994, 1078.199951, 5.122368],
			[209.399994, 1078.199951, -14.077632],
			[228.600006, 1078.199951, -14.077632],
			[228.600006, 1078.199951, 5.122368],
			[228.600006, 1071.800049, 5.122368],
			[228.600006, 1071.800049, -14.077632],
			[209.399994, 1071.800049, -14.077632],
			[209.399994, 1071.800049, 5.122368],
			[209.399994, 1071.800049, 5.122368],
			[209.399994, 1071.800049, -14.077632],
			[209.399994, 1078.199951, -14.077632],
			[209.399994, 1078.199951, 5.122368],
			[228.600006, 1078.199951, 5.122368],
			[228.600006, 1078.199951, -14.077632],
			[228.600006, 1071.800049, -14.077632],
			[228.600006, 1071.800049, 5.122368],
			[203.000000, 1078.199951, -14.077632],
			[203.000000, 1078.199951, -57.277634],
			[235.000000, 1078.199951, -57.277634],
			[235.000000, 1078.199951, -14.077632],
			[201.868637, 1078.199951, -14.546240],
			[201.868637, 1078.199951, -56.808990],
			[201.399994, 1078.199951, -15.677632],
			[201.399994, 1078.199951, -55.677631],
			[236.131363, 1078.199951, -14.546240],
			[236.131363, 1078.199951, -56.808990],
			[236.600006, 1078.199951, -15.677632],
			[236.600006, 1078.199951, -55.677631],
			[235.000000, 1071.800049, -14.077632],
			[235.000000, 1074.199951, -57.277634],
			[203.000000, 1074.199951, -57.277634],
			[203.000000, 1071.800049, -14.077632],
			[236.131363, 1071.826416, -14.546240],
			[236.131363, 1074.174683, -56.808990],
			[236.600006, 1071.890137, -15.677632],
			[236.600006, 1074.111694, -55.677631],
			[201.868637, 1071.826416, -14.546240],
			[201.868637, 1074.174683, -56.808990],
			[201.399994, 1071.890137, -15.677632],
			[201.399994, 1074.111694, -55.677631],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate a simple drop target mesh', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'DropTargetSimple', 'hittarget-DropTargetSimple');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[341.799988, 1076.599976, -4.326368],
			[308.200012, 1076.599976, -4.326368],
			[341.799988, 1076.599976, -55.526367],
			[308.200012, 1076.599976, -55.526367],
			[341.799988, 1065.400024, -55.526367],
			[341.799988, 1076.599976, -55.526367],
			[308.200012, 1076.599976, -55.526367],
			[308.200012, 1065.400024, -55.526367],
			[341.799988, 1065.400024, -4.326368],
			[341.799988, 1065.400024, -55.526367],
			[308.200012, 1065.400024, -55.526367],
			[308.200012, 1065.400024, -4.326368],
			[308.200012, 1065.400024, 5.273632],
			[341.799988, 1065.400024, 5.273632],
			[308.200012, 1065.400024, -4.326368],
			[308.200012, 1076.599976, -4.326368],
			[308.200012, 1070.199951, 3.673632],
			[308.200012, 1065.400024, -55.526367],
			[308.200012, 1076.599976, -55.526367],
			[341.799988, 1076.599976, -55.526367],
			[341.799988, 1065.400024, -55.526367],
			[341.799988, 1076.599976, -4.326368],
			[341.799988, 1065.400024, -4.326368],
			[341.799988, 1070.199951, 3.673632],
			[341.799988, 1076.599976, -4.326368],
			[341.799988, 1070.199951, 3.673632],
			[308.200012, 1070.199951, 3.673632],
			[341.799988, 1065.400024, 5.273632],
			[308.200012, 1070.199951, 5.273632],
			[308.200012, 1070.199951, 3.673632],
			[341.799988, 1070.199951, 3.673632],
			[341.799988, 1070.199951, 5.273632],
			[341.799988, 1070.199951, 5.273632],
			[308.200012, 1070.199951, 5.273632],
			[308.200012, 1065.400024, 5.273632],
			[308.200012, 1076.599976, -4.326368],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate a fat rectangular hit target mesh', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'HitFatTargetRect', 'hittarget-HitFatTargetRect');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[434.606049, 1078.595215, -52.631870],
			[434.606049, 1073.795288, -22.631872],
			[434.606049, 1078.595215, -22.631872],
			[434.606049, 1073.795288, -52.631870],
			[418.606049, 1078.595215, -52.631870],
			[434.606049, 1073.795288, -52.631870],
			[434.606049, 1078.595215, -52.631870],
			[418.606049, 1073.795288, -52.631870],
			[418.606049, 1073.795288, -22.631872],
			[418.606049, 1073.795288, -52.631870],
			[418.606049, 1078.595215, -52.631870],
			[418.606049, 1078.595215, -22.631872],
			[434.606049, 1078.595215, -52.631870],
			[418.606049, 1078.595215, -22.631872],
			[418.606049, 1078.595215, -52.631870],
			[434.606049, 1078.595215, -22.631872],
			[418.606049, 1073.795288, -22.631872],
			[418.606049, 1078.595215, -22.631872],
			[434.606049, 1073.795288, -22.631872],
			[434.606049, 1078.595215, -22.631872],
			[435.006042, 1073.795288, -53.031872],
			[435.006042, 1072.195435, 3.368128],
			[435.006042, 1073.795288, 3.368128],
			[435.006042, 1072.195435, -53.031872],
			[418.206055, 1073.795288, -53.031872],
			[435.006042, 1072.195435, -53.031872],
			[435.006042, 1073.795288, -53.031872],
			[418.206055, 1072.195435, -53.031872],
			[418.206055, 1072.195435, 3.368128],
			[418.206055, 1072.195435, -53.031872],
			[418.206055, 1073.795288, -53.031872],
			[418.206055, 1073.795288, 3.368128],
			[435.006042, 1073.795288, -53.031872],
			[418.206055, 1073.795288, 3.368128],
			[418.206055, 1073.795288, -53.031872],
			[435.006042, 1073.795288, 3.368128],
			[435.006042, 1072.195435, -53.031872],
			[418.206055, 1072.195435, -53.031872],
			[418.206055, 1072.195435, 3.368128],
			[435.006042, 1072.195435, 3.368128],
			[434.606049, 1084.195068, -46.231873],
			[434.606049, 1082.595093, 3.368128],
			[434.606049, 1084.195068, 3.368128],
			[434.606049, 1082.595093, -46.231873],
			[418.606049, 1084.195068, -46.231873],
			[434.606049, 1082.595093, -46.231873],
			[434.606049, 1084.195068, -46.231873],
			[418.606049, 1082.595093, -46.231873],
			[418.606049, 1082.595093, 3.368128],
			[418.606049, 1082.595093, -46.231873],
			[418.606049, 1084.195068, -46.231873],
			[418.606049, 1084.195068, 3.368128],
			[434.606049, 1084.195068, -46.231873],
			[418.606049, 1084.195068, 3.368128],
			[418.606049, 1084.195068, -46.231873],
			[434.606049, 1084.195068, 3.368128],
			[434.606049, 1082.595093, -46.231873],
			[418.606049, 1082.595093, -46.231873],
			[418.606049, 1082.595093, 3.368128],
			[434.606049, 1082.595093, 3.368128],
			[402.606049, 1085.366211, -54.231873],
			[402.820404, 1085.366211, -55.031872],
			[404.206055, 1085.794922, -54.231873],
			[403.406036, 1085.366211, -55.617504],
			[404.206055, 1085.366211, -55.831871],
			[401.806061, 1084.195068, -55.617504],
			[401.434784, 1084.195068, -54.231873],
			[401.434784, 1082.595093, -55.831871],
			[401.006042, 1082.595093, -54.231873],
			[402.606049, 1082.595093, -57.003136],
			[402.820404, 1084.195068, -56.631870],
			[404.206055, 1084.195068, -57.003136],
			[404.206055, 1082.595093, -57.431873],
			[430.671143, 1084.994995, -36.548065],
			[426.606049, 1085.795410, -38.231873],
			[431.006073, 1084.994995, -38.231873],
			[429.717346, 1084.994995, -35.120575],
			[428.289856, 1084.994995, -34.166782],
			[426.606049, 1084.994995, -33.831841],
			[424.922241, 1084.994995, -34.166782],
			[423.494781, 1084.994995, -35.120575],
			[422.540955, 1084.994995, -36.548065],
			[422.206055, 1084.994995, -38.231873],
			[422.540955, 1084.994995, -39.915680],
			[423.494781, 1084.994995, -41.343136],
			[424.922241, 1084.994995, -42.296959],
			[426.606049, 1084.994995, -42.631870],
			[428.289856, 1084.994995, -42.296959],
			[429.717346, 1084.994995, -41.343136],
			[430.671143, 1084.994995, -39.915680],
			[431.087799, 1085.794189, -36.375458],
			[430.671143, 1084.994995, -36.548065],
			[431.006073, 1084.994995, -38.231873],
			[431.457092, 1085.794189, -38.231873],
			[430.036255, 1085.794189, -34.801662],
			[429.717346, 1084.994995, -35.120575],
			[428.462463, 1085.794189, -33.750111],
			[428.289856, 1084.994995, -34.166782],
			[426.606049, 1085.794189, -33.380833],
			[426.606049, 1084.994995, -33.831841],
			[424.749634, 1085.794189, -33.750111],
			[424.922241, 1084.994995, -34.166782],
			[423.175873, 1085.794189, -34.801662],
			[423.494781, 1084.994995, -35.120575],
			[422.124298, 1085.794189, -36.375458],
			[422.540955, 1084.994995, -36.548065],
			[421.755035, 1085.794189, -38.231873],
			[422.206055, 1084.994995, -38.231873],
			[422.124298, 1085.794189, -40.088287],
			[422.540955, 1084.994995, -39.915680],
			[423.175873, 1085.794189, -41.662048],
			[423.494781, 1084.994995, -41.343136],
			[424.749634, 1085.794189, -42.713631],
			[424.922241, 1084.994995, -42.296959],
			[426.606049, 1085.794189, -43.082878],
			[426.606049, 1084.994995, -42.631870],
			[428.462463, 1085.794189, -42.713631],
			[428.289856, 1084.994995, -42.296959],
			[430.036255, 1085.794189, -41.662048],
			[429.717346, 1084.994995, -41.343136],
			[431.087799, 1085.794189, -40.088287],
			[430.671143, 1084.994995, -39.915680],
			[421.755035, 1085.794189, -38.231873],
			[404.206055, 1085.794922, -22.231873],
			[426.606049, 1085.794189, -43.082878],
			[449.006042, 1085.794922, -54.231873],
			[431.457092, 1085.794189, -38.231873],
			[449.006042, 1085.794922, -22.231873],
			[426.606049, 1085.794189, -33.380833],
			[422.124298, 1085.794189, -36.375458],
			[423.175873, 1085.794189, -34.801662],
			[424.749634, 1085.794189, -33.750111],
			[428.462463, 1085.794189, -33.750111],
			[430.036255, 1085.794189, -34.801662],
			[431.087799, 1085.794189, -36.375458],
			[431.087799, 1085.794189, -40.088287],
			[430.036255, 1085.794189, -41.662048],
			[428.462463, 1085.794189, -42.713631],
			[424.749634, 1085.794189, -42.713631],
			[423.175873, 1085.794189, -41.662048],
			[422.124298, 1085.794189, -40.088287],
			[449.006042, 1085.366211, -55.831871],
			[449.006042, 1084.195068, -57.003136],
			[449.006042, 1082.595093, -57.431873],
			[402.606049, 1085.366211, -22.231873],
			[401.006042, 1082.595093, -22.231873],
			[401.434784, 1084.195068, -22.231873],
			[450.391693, 1085.366211, -55.031872],
			[450.606049, 1085.366211, -54.231873],
			[449.806061, 1085.366211, -55.617504],
			[452.206055, 1082.595093, -54.231873],
			[451.777344, 1084.195068, -54.231873],
			[451.406036, 1084.195068, -55.617504],
			[451.777344, 1082.595093, -55.831871],
			[450.391693, 1084.195068, -56.631870],
			[450.606049, 1082.595093, -57.003136],
			[450.606049, 1085.366211, -22.231873],
			[452.206055, 1082.595093, -22.231873],
			[451.777344, 1084.195068, -22.231873],
			[402.820404, 1085.366211, -21.431871],
			[403.406036, 1085.366211, -20.846209],
			[404.206055, 1085.366211, -20.631872],
			[401.806061, 1084.195068, -20.846209],
			[401.434784, 1082.595093, -20.631872],
			[402.820404, 1084.195068, -19.831873],
			[402.606049, 1082.595093, -19.460575],
			[404.206055, 1084.195068, -19.460575],
			[404.206055, 1082.595093, -19.031872],
			[449.006042, 1085.366211, -20.631872],
			[417.806061, 1084.195068, -19.460575],
			[417.806061, 1082.595093, -19.031872],
			[450.391693, 1085.366211, -21.431871],
			[449.806061, 1085.366211, -20.846209],
			[451.406036, 1084.195068, -20.846209],
			[451.777344, 1082.595093, -20.631872],
			[450.606049, 1082.595093, -19.460575],
			[450.391693, 1084.195068, -19.831873],
			[449.006042, 1084.195068, -19.460575],
			[449.006042, 1082.595093, -19.031872],
			[449.006042, 1071.395386, -57.431873],
			[404.206055, 1071.395386, -57.431873],
			[401.006042, 1071.395386, -54.231873],
			[401.006042, 1071.395386, -22.231873],
			[452.206055, 1071.395386, -54.231873],
			[451.777344, 1071.395386, -55.831871],
			[450.606049, 1071.395386, -57.003136],
			[452.206055, 1071.395386, -22.231873],
			[449.006042, 1071.395386, -19.031872],
			[435.406036, 1071.395386, -19.031872],
			[435.406036, 1082.595093, -19.031872],
			[435.406036, 1084.195068, -19.460575],
			[404.206055, 1071.395386, -19.031872],
			[417.806061, 1071.395386, -19.031872],
			[449.006042, 1071.395386, -55.831871],
			[449.006042, 1071.395386, -57.431873],
			[404.206055, 1071.395386, -57.431873],
			[404.206055, 1071.395386, -55.831871],
			[402.606049, 1071.395386, -54.231873],
			[401.006042, 1071.395386, -54.231873],
			[401.006042, 1071.395386, -22.231873],
			[402.606049, 1071.395386, -22.231873],
			[450.606049, 1071.395386, -54.231873],
			[452.206055, 1071.395386, -54.231873],
			[451.777344, 1071.395386, -55.831871],
			[450.391693, 1071.395386, -55.031872],
			[450.606049, 1071.395386, -57.003136],
			[449.806061, 1071.395386, -55.617504],
			[450.606049, 1071.395386, -22.231873],
			[452.206055, 1071.395386, -22.231873],
			[435.406036, 1071.395386, -20.631872],
			[435.406036, 1071.395386, -19.031872],
			[449.006042, 1071.395386, -19.031872],
			[449.006042, 1071.395386, -20.631872],
			[404.206055, 1071.395386, -20.631872],
			[404.206055, 1071.395386, -19.031872],
			[417.806061, 1071.395386, -19.031872],
			[417.806061, 1071.395386, -20.631872],
			[401.434784, 1071.395386, -55.831871],
			[402.606049, 1071.395386, -57.003136],
			[401.434784, 1071.395386, -55.831871],
			[402.820404, 1071.395386, -55.031872],
			[403.406036, 1071.395386, -55.617504],
			[402.606049, 1071.395386, -57.003136],
			[451.777344, 1071.395386, -20.631872],
			[450.606049, 1071.395386, -19.460575],
			[451.777344, 1071.395386, -20.631872],
			[450.391693, 1071.395386, -21.431871],
			[449.806061, 1071.395386, -20.846209],
			[450.606049, 1071.395386, -19.460575],
			[401.434784, 1071.395386, -20.631872],
			[402.606049, 1071.395386, -19.460575],
			[401.434784, 1071.395386, -20.631872],
			[402.820404, 1071.395386, -21.431871],
			[402.606049, 1071.395386, -19.460575],
			[403.406036, 1071.395386, -20.846209],
			[449.006042, 1084.195068, -55.831871],
			[449.006042, 1071.395386, -55.831871],
			[404.206055, 1071.395386, -55.831871],
			[404.206055, 1084.195068, -55.831871],
			[402.606049, 1084.195068, -54.231873],
			[402.606049, 1071.395386, -54.231873],
			[402.606049, 1071.395386, -22.231873],
			[402.606049, 1084.195068, -22.231873],
			[450.606049, 1084.195068, -54.231873],
			[450.606049, 1071.395386, -54.231873],
			[450.391693, 1071.395386, -55.031872],
			[450.391693, 1084.195068, -55.031872],
			[450.606049, 1084.195068, -22.231873],
			[450.606049, 1071.395386, -22.231873],
			[435.406036, 1082.595093, -19.031872],
			[435.406036, 1071.395386, -19.031872],
			[435.406036, 1071.395386, -20.631872],
			[435.406036, 1084.195068, -20.631872],
			[435.406036, 1084.195068, -20.631872],
			[435.406036, 1071.395386, -20.631872],
			[449.006042, 1071.395386, -20.631872],
			[449.006042, 1084.195068, -20.631872],
			[404.206055, 1084.195068, -20.631872],
			[404.206055, 1071.395386, -20.631872],
			[417.806061, 1071.395386, -20.631872],
			[417.806061, 1084.195068, -20.631872],
			[417.806061, 1084.195068, -20.631872],
			[417.806061, 1071.395386, -20.631872],
			[417.806061, 1082.595093, -19.031872],
			[417.806061, 1071.395386, -19.031872],
			[449.806061, 1071.395386, -55.617504],
			[449.806061, 1084.195068, -55.617504],
			[402.820404, 1084.195068, -55.031872],
			[402.820404, 1071.395386, -55.031872],
			[403.406036, 1084.195068, -55.617504],
			[403.406036, 1071.395386, -55.617504],
			[450.391693, 1084.195068, -21.431871],
			[450.391693, 1071.395386, -21.431871],
			[449.806061, 1084.195068, -20.846209],
			[449.806061, 1071.395386, -20.846209],
			[402.820404, 1071.395386, -21.431871],
			[402.820404, 1084.195068, -21.431871],
			[403.406036, 1071.395386, -20.846209],
			[403.406036, 1084.195068, -20.846209],
			[435.406036, 1084.195068, -19.460575],
			[417.806061, 1084.195068, -19.460575],
			[435.406036, 1084.195068, -20.631872],
			[449.006042, 1084.195068, -20.631872],
			[426.606049, 1084.195068, -38.231873],
			[417.806061, 1084.195068, -20.631872],
			[449.806061, 1084.195068, -20.846209],
			[450.391693, 1084.195068, -21.431871],
			[450.606049, 1084.195068, -22.231873],
			[450.606049, 1084.195068, -54.231873],
			[450.391693, 1084.195068, -55.031872],
			[449.806061, 1084.195068, -55.617504],
			[449.006042, 1084.195068, -55.831871],
			[404.206055, 1084.195068, -55.831871],
			[403.406036, 1084.195068, -55.617504],
			[402.820404, 1084.195068, -55.031872],
			[402.606049, 1084.195068, -54.231873],
			[402.606049, 1084.195068, -22.231873],
			[402.820404, 1084.195068, -21.431871],
			[403.406036, 1084.195068, -20.846209],
			[404.206055, 1084.195068, -20.631872],
			[435.406036, 1084.195068, -19.460575],
			[417.806061, 1084.195068, -19.460575],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate a fat slim (uh) hit target mesh', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'HitFatTargetSlim', 'hittarget-HitFatTargetSlim');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[519.003784, 1070.616211, -51.962143],
			[519.003784, 1065.816406, -21.962145],
			[519.003784, 1070.616211, -21.962145],
			[519.003784, 1065.816406, -51.962143],
			[503.003784, 1070.616211, -51.962143],
			[519.003784, 1065.816406, -51.962143],
			[519.003784, 1070.616211, -51.962143],
			[503.003784, 1065.816406, -51.962143],
			[503.003784, 1065.816406, -21.962145],
			[503.003784, 1065.816406, -51.962143],
			[503.003784, 1070.616211, -51.962143],
			[503.003784, 1070.616211, -21.962145],
			[519.003784, 1070.616211, -51.962143],
			[503.003784, 1070.616211, -21.962145],
			[503.003784, 1070.616211, -51.962143],
			[519.003784, 1070.616211, -21.962145],
			[503.003784, 1065.816406, -21.962145],
			[503.003784, 1070.616211, -21.962145],
			[519.003784, 1065.816406, -21.962145],
			[519.003784, 1070.616211, -21.962145],
			[519.403748, 1065.816406, -52.362144],
			[519.403748, 1064.216431, 4.037856],
			[519.403748, 1065.816406, 4.037856],
			[519.403748, 1064.216431, -52.362144],
			[502.603790, 1065.816406, -52.362144],
			[519.403748, 1064.216431, -52.362144],
			[519.403748, 1065.816406, -52.362144],
			[502.603790, 1064.216431, -52.362144],
			[502.603790, 1064.216431, 4.037856],
			[502.603790, 1064.216431, -52.362144],
			[502.603790, 1065.816406, -52.362144],
			[502.603790, 1065.816406, 4.037856],
			[519.403748, 1065.816406, -52.362144],
			[502.603790, 1065.816406, 4.037856],
			[502.603790, 1065.816406, -52.362144],
			[519.403748, 1065.816406, 4.037856],
			[519.403748, 1064.216431, -52.362144],
			[502.603790, 1064.216431, -52.362144],
			[502.603790, 1064.216431, 4.037856],
			[519.403748, 1064.216431, 4.037856],
			[519.003784, 1076.216064, -45.562145],
			[519.003784, 1074.616089, 4.037856],
			[519.003784, 1076.216064, 4.037856],
			[519.003784, 1074.616089, -45.562145],
			[503.003784, 1076.216064, -45.562145],
			[519.003784, 1074.616089, -45.562145],
			[519.003784, 1076.216064, -45.562145],
			[503.003784, 1074.616089, -45.562145],
			[503.003784, 1074.616089, 4.037856],
			[503.003784, 1074.616089, -45.562145],
			[503.003784, 1076.216064, -45.562145],
			[503.003784, 1076.216064, 4.037856],
			[519.003784, 1076.216064, -45.562145],
			[503.003784, 1076.216064, 4.037856],
			[503.003784, 1076.216064, -45.562145],
			[519.003784, 1076.216064, 4.037856],
			[519.003784, 1074.616089, -45.562145],
			[503.003784, 1074.616089, -45.562145],
			[503.003784, 1074.616089, 4.037856],
			[519.003784, 1074.616089, 4.037856],
			[500.203766, 1077.387329, -53.562145],
			[500.418152, 1077.387329, -54.362144],
			[501.803772, 1077.816040, -53.562145],
			[501.003784, 1077.387329, -54.947807],
			[501.803772, 1077.387329, -55.162144],
			[499.403778, 1076.216064, -54.947807],
			[499.032501, 1076.216064, -53.562145],
			[499.032501, 1074.616089, -55.162144],
			[498.603790, 1074.616089, -53.562145],
			[500.203766, 1074.616089, -56.333439],
			[500.418152, 1076.216064, -55.962143],
			[501.803772, 1076.216064, -56.333439],
			[501.803772, 1074.616089, -56.762142],
			[515.068848, 1077.015991, -35.878338],
			[511.003784, 1077.816528, -37.562145],
			[515.403809, 1077.015991, -37.562145],
			[514.115051, 1077.015991, -34.450878],
			[512.687561, 1077.015991, -33.497055],
			[511.003784, 1077.015991, -33.162144],
			[509.319977, 1077.015991, -33.497055],
			[507.892517, 1077.015991, -34.450878],
			[506.938690, 1077.015991, -35.878338],
			[506.603790, 1077.015991, -37.562145],
			[506.938690, 1077.015991, -39.245983],
			[507.892517, 1077.015991, -40.673439],
			[509.319977, 1077.015991, -41.627232],
			[511.003784, 1077.015991, -41.962177],
			[512.687561, 1077.015991, -41.627232],
			[514.115051, 1077.015991, -40.673439],
			[515.068848, 1077.015991, -39.245983],
			[515.485535, 1077.815186, -35.705761],
			[515.068848, 1077.015991, -35.878338],
			[515.403809, 1077.015991, -37.562145],
			[515.854797, 1077.815186, -37.562145],
			[514.433960, 1077.815186, -34.131969],
			[514.115051, 1077.015991, -34.450878],
			[512.860168, 1077.815186, -33.080383],
			[512.687561, 1077.015991, -33.497055],
			[511.003784, 1077.815186, -32.711136],
			[511.003784, 1077.015991, -33.162144],
			[509.147369, 1077.815186, -33.080383],
			[509.319977, 1077.015991, -33.497055],
			[507.573608, 1077.815186, -34.131969],
			[507.892517, 1077.015991, -34.450878],
			[506.522003, 1077.815186, -35.705761],
			[506.938690, 1077.015991, -35.878338],
			[506.152771, 1077.815186, -37.562145],
			[506.603790, 1077.015991, -37.562145],
			[506.522003, 1077.815186, -39.418560],
			[506.938690, 1077.015991, -39.245983],
			[507.573608, 1077.815186, -40.992352],
			[507.892517, 1077.015991, -40.673439],
			[509.147369, 1077.815186, -42.043903],
			[509.319977, 1077.015991, -41.627232],
			[511.003784, 1077.815186, -42.413185],
			[511.003784, 1077.015991, -41.962177],
			[512.860168, 1077.815186, -42.043903],
			[512.687561, 1077.015991, -41.627232],
			[514.433960, 1077.815186, -40.992352],
			[514.115051, 1077.015991, -40.673439],
			[515.485535, 1077.815186, -39.418560],
			[515.068848, 1077.015991, -39.245983],
			[506.152771, 1077.815186, -37.562145],
			[501.803772, 1077.816040, -21.562143],
			[511.003784, 1077.815186, -42.413185],
			[520.203796, 1077.816040, -53.562145],
			[515.854797, 1077.815186, -37.562145],
			[520.203796, 1077.816040, -21.562143],
			[511.003784, 1077.815186, -32.711136],
			[506.522003, 1077.815186, -35.705761],
			[507.573608, 1077.815186, -34.131969],
			[509.147369, 1077.815186, -33.080383],
			[512.860168, 1077.815186, -33.080383],
			[514.433960, 1077.815186, -34.131969],
			[515.485535, 1077.815186, -35.705761],
			[515.485535, 1077.815186, -39.418560],
			[514.433960, 1077.815186, -40.992352],
			[512.860168, 1077.815186, -42.043903],
			[509.147369, 1077.815186, -42.043903],
			[507.573608, 1077.815186, -40.992352],
			[506.522003, 1077.815186, -39.418560],
			[520.203796, 1077.387329, -55.162144],
			[520.203796, 1076.216064, -56.333439],
			[520.203796, 1074.616089, -56.762142],
			[500.203766, 1077.387329, -21.562143],
			[498.603790, 1074.616089, -21.562143],
			[499.032501, 1076.216064, -21.562143],
			[521.589417, 1077.387329, -54.362144],
			[521.803772, 1077.387329, -53.562145],
			[521.003784, 1077.387329, -54.947807],
			[523.403748, 1074.616089, -53.562145],
			[522.975098, 1076.216064, -53.562145],
			[522.603760, 1076.216064, -54.947807],
			[522.975098, 1074.616089, -55.162144],
			[521.589417, 1076.216064, -55.962143],
			[521.803772, 1074.616089, -56.333439],
			[521.803772, 1077.387329, -21.562143],
			[523.403748, 1074.616089, -21.562143],
			[522.975098, 1076.216064, -21.562143],
			[500.418152, 1077.387329, -20.762144],
			[501.003784, 1077.387329, -20.176512],
			[501.803772, 1077.387329, -19.962145],
			[499.403778, 1076.216064, -20.176512],
			[499.032501, 1074.616089, -19.962145],
			[500.418152, 1076.216064, -19.162144],
			[500.203766, 1074.616089, -18.790880],
			[501.803772, 1076.216064, -18.790880],
			[501.803772, 1074.616089, -18.362144],
			[520.203796, 1077.387329, -19.962145],
			[502.203766, 1076.216064, -18.790880],
			[502.203766, 1074.616089, -18.362144],
			[521.589417, 1077.387329, -20.762144],
			[521.003784, 1077.387329, -20.176512],
			[522.603760, 1076.216064, -20.176512],
			[522.975098, 1074.616089, -19.962145],
			[521.803772, 1074.616089, -18.790880],
			[521.589417, 1076.216064, -19.162144],
			[520.203796, 1076.216064, -18.790880],
			[520.203796, 1074.616089, -18.362144],
			[520.203796, 1063.416504, -56.762142],
			[501.803772, 1063.416504, -56.762142],
			[498.603790, 1063.416504, -53.562145],
			[498.603790, 1063.416504, -21.562143],
			[523.403748, 1063.416504, -53.562145],
			[522.975098, 1063.416504, -55.162144],
			[521.803772, 1063.416504, -56.333439],
			[523.403748, 1063.416504, -21.562143],
			[520.203796, 1063.416504, -18.362144],
			[519.803772, 1063.416504, -18.362144],
			[519.803772, 1074.616089, -18.362144],
			[519.803772, 1076.216064, -18.790880],
			[501.803772, 1063.416504, -18.362144],
			[502.203766, 1063.416504, -18.362144],
			[520.203796, 1063.416504, -55.162144],
			[520.203796, 1063.416504, -56.762142],
			[501.803772, 1063.416504, -56.762142],
			[501.803772, 1063.416504, -55.162144],
			[500.203766, 1063.416504, -53.562145],
			[498.603790, 1063.416504, -53.562145],
			[498.603790, 1063.416504, -21.562143],
			[500.203766, 1063.416504, -21.562143],
			[521.803772, 1063.416504, -53.562145],
			[523.403748, 1063.416504, -53.562145],
			[522.975098, 1063.416504, -55.162144],
			[521.589417, 1063.416504, -54.362144],
			[521.803772, 1063.416504, -56.333439],
			[521.003784, 1063.416504, -54.947807],
			[521.803772, 1063.416504, -21.562143],
			[523.403748, 1063.416504, -21.562143],
			[519.803772, 1063.416504, -19.962145],
			[519.803772, 1063.416504, -18.362144],
			[520.203796, 1063.416504, -18.362144],
			[520.203796, 1063.416504, -19.962145],
			[501.803772, 1063.416504, -19.962145],
			[501.803772, 1063.416504, -18.362144],
			[502.203766, 1063.416504, -18.362144],
			[502.203766, 1063.416504, -19.962145],
			[499.032501, 1063.416504, -55.162144],
			[500.203766, 1063.416504, -56.333439],
			[499.032501, 1063.416504, -55.162144],
			[500.418152, 1063.416504, -54.362144],
			[501.003784, 1063.416504, -54.947807],
			[500.203766, 1063.416504, -56.333439],
			[522.975098, 1063.416504, -19.962145],
			[521.803772, 1063.416504, -18.790880],
			[522.975098, 1063.416504, -19.962145],
			[521.589417, 1063.416504, -20.762144],
			[521.003784, 1063.416504, -20.176512],
			[521.803772, 1063.416504, -18.790880],
			[499.032501, 1063.416504, -19.962145],
			[500.203766, 1063.416504, -18.790880],
			[499.032501, 1063.416504, -19.962145],
			[500.418152, 1063.416504, -20.762144],
			[500.203766, 1063.416504, -18.790880],
			[501.003784, 1063.416504, -20.176512],
			[520.203796, 1076.216064, -55.162144],
			[520.203796, 1063.416504, -55.162144],
			[501.803772, 1063.416504, -55.162144],
			[501.803772, 1076.216064, -55.162144],
			[500.203766, 1076.216064, -53.562145],
			[500.203766, 1063.416504, -53.562145],
			[500.203766, 1063.416504, -21.562143],
			[500.203766, 1076.216064, -21.562143],
			[521.803772, 1076.216064, -53.562145],
			[521.803772, 1063.416504, -53.562145],
			[521.589417, 1063.416504, -54.362144],
			[521.589417, 1076.216064, -54.362144],
			[521.803772, 1076.216064, -21.562143],
			[521.803772, 1063.416504, -21.562143],
			[519.803772, 1074.616089, -18.362144],
			[519.803772, 1063.416504, -18.362144],
			[519.803772, 1063.416504, -19.962145],
			[519.803772, 1076.216064, -19.962145],
			[519.803772, 1076.216064, -19.962145],
			[519.803772, 1063.416504, -19.962145],
			[520.203796, 1063.416504, -19.962145],
			[520.203796, 1076.216064, -19.962145],
			[501.803772, 1076.216064, -19.962145],
			[501.803772, 1063.416504, -19.962145],
			[502.203766, 1063.416504, -19.962145],
			[502.203766, 1076.216064, -19.962145],
			[502.203766, 1076.216064, -19.962145],
			[502.203766, 1063.416504, -19.962145],
			[502.203766, 1074.616089, -18.362144],
			[502.203766, 1063.416504, -18.362144],
			[521.003784, 1063.416504, -54.947807],
			[521.003784, 1076.216064, -54.947807],
			[500.418152, 1076.216064, -54.362144],
			[500.418152, 1063.416504, -54.362144],
			[501.003784, 1076.216064, -54.947807],
			[501.003784, 1063.416504, -54.947807],
			[521.589417, 1076.216064, -20.762144],
			[521.589417, 1063.416504, -20.762144],
			[521.003784, 1076.216064, -20.176512],
			[521.003784, 1063.416504, -20.176512],
			[500.418152, 1063.416504, -20.762144],
			[500.418152, 1076.216064, -20.762144],
			[501.003784, 1063.416504, -20.176512],
			[501.003784, 1076.216064, -20.176512],
			[519.803772, 1076.216064, -18.790880],
			[502.203766, 1076.216064, -18.790880],
			[519.803772, 1076.216064, -19.962145],
			[520.203796, 1076.216064, -19.962145],
			[511.003784, 1076.216064, -37.562145],
			[502.203766, 1076.216064, -19.962145],
			[521.003784, 1076.216064, -20.176512],
			[521.589417, 1076.216064, -20.762144],
			[521.803772, 1076.216064, -21.562143],
			[521.803772, 1076.216064, -53.562145],
			[521.589417, 1076.216064, -54.362144],
			[521.003784, 1076.216064, -54.947807],
			[520.203796, 1076.216064, -55.162144],
			[501.803772, 1076.216064, -55.162144],
			[501.003784, 1076.216064, -54.947807],
			[500.418152, 1076.216064, -54.362144],
			[500.203766, 1076.216064, -53.562145],
			[500.203766, 1076.216064, -21.562143],
			[500.418152, 1076.216064, -20.762144],
			[501.003784, 1076.216064, -20.176512],
			[501.803772, 1076.216064, -19.962145],
			[519.803772, 1076.216064, -18.790880],
			[502.203766, 1076.216064, -18.790880],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate a square fat hit target mesh', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'HitFatTargetSquare', 'hittarget-HitFatTargetSquare');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[624.452820, 1074.630127, -52.711937],
			[624.452820, 1069.830322, -22.711937],
			[624.452820, 1074.630127, -22.711937],
			[624.452820, 1069.830322, -52.711937],
			[608.452820, 1074.630127, -52.711937],
			[624.452820, 1069.830322, -52.711937],
			[624.452820, 1074.630127, -52.711937],
			[608.452820, 1069.830322, -52.711937],
			[608.452820, 1069.830322, -22.711937],
			[608.452820, 1069.830322, -52.711937],
			[608.452820, 1074.630127, -52.711937],
			[608.452820, 1074.630127, -22.711937],
			[624.452820, 1074.630127, -52.711937],
			[608.452820, 1074.630127, -22.711937],
			[608.452820, 1074.630127, -52.711937],
			[624.452820, 1074.630127, -22.711937],
			[608.452820, 1069.830322, -22.711937],
			[608.452820, 1074.630127, -22.711937],
			[624.452820, 1069.830322, -22.711937],
			[624.452820, 1074.630127, -22.711937],
			[624.852844, 1069.830322, -53.111935],
			[624.852844, 1068.230347, 3.288064],
			[624.852844, 1069.830322, 3.288064],
			[624.852844, 1068.230347, -53.111935],
			[608.052856, 1069.830322, -53.111935],
			[624.852844, 1068.230347, -53.111935],
			[624.852844, 1069.830322, -53.111935],
			[608.052856, 1068.230347, -53.111935],
			[608.052856, 1068.230347, 3.288064],
			[608.052856, 1068.230347, -53.111935],
			[608.052856, 1069.830322, -53.111935],
			[608.052856, 1069.830322, 3.288064],
			[624.852844, 1069.830322, -53.111935],
			[608.052856, 1069.830322, 3.288064],
			[608.052856, 1069.830322, -53.111935],
			[624.852844, 1069.830322, 3.288064],
			[624.852844, 1068.230347, -53.111935],
			[608.052856, 1068.230347, -53.111935],
			[608.052856, 1068.230347, 3.288064],
			[624.852844, 1068.230347, 3.288064],
			[624.452820, 1080.229980, -46.311935],
			[624.452820, 1078.630005, 3.288064],
			[624.452820, 1080.229980, 3.288064],
			[624.452820, 1078.630005, -46.311935],
			[608.452820, 1080.229980, -46.311935],
			[624.452820, 1078.630005, -46.311935],
			[624.452820, 1080.229980, -46.311935],
			[608.452820, 1078.630005, -46.311935],
			[608.452820, 1078.630005, 3.288064],
			[608.452820, 1078.630005, -46.311935],
			[608.452820, 1080.229980, -46.311935],
			[608.452820, 1080.229980, 3.288064],
			[624.452820, 1080.229980, -46.311935],
			[608.452820, 1080.229980, 3.288064],
			[608.452820, 1080.229980, -46.311935],
			[624.452820, 1080.229980, 3.288064],
			[624.452820, 1078.630005, -46.311935],
			[608.452820, 1078.630005, -46.311935],
			[608.452820, 1078.630005, 3.288064],
			[624.452820, 1078.630005, 3.288064],
			[598.852844, 1081.401245, -54.311935],
			[599.067200, 1081.401245, -55.111935],
			[600.452820, 1081.829956, -54.311935],
			[599.652832, 1081.401245, -55.697567],
			[600.452820, 1081.401245, -55.911938],
			[598.052856, 1080.229980, -55.697567],
			[597.681580, 1080.229980, -54.311935],
			[597.681580, 1078.630005, -55.911938],
			[597.252808, 1078.630005, -54.311935],
			[598.852844, 1078.630005, -57.083199],
			[599.067200, 1080.229980, -56.711937],
			[600.452820, 1080.229980, -57.083199],
			[600.452820, 1078.630005, -57.511936],
			[620.517944, 1081.030029, -36.628128],
			[616.452820, 1081.830444, -38.311935],
			[620.852844, 1081.030029, -38.311935],
			[619.564148, 1081.030029, -35.200642],
			[618.136658, 1081.030029, -34.246849],
			[616.452820, 1081.030029, -33.911903],
			[614.769043, 1081.030029, -34.246849],
			[613.341553, 1081.030029, -35.200642],
			[612.387756, 1081.030029, -36.628128],
			[612.052856, 1081.030029, -38.311935],
			[612.387756, 1081.030029, -39.995743],
			[613.341553, 1081.030029, -41.423233],
			[614.769043, 1081.030029, -42.377026],
			[616.452820, 1081.030029, -42.711967],
			[618.136658, 1081.030029, -42.377026],
			[619.564148, 1081.030029, -41.423233],
			[620.517944, 1081.030029, -39.995743],
			[620.934570, 1081.829102, -36.455521],
			[620.517944, 1081.030029, -36.628128],
			[620.852844, 1081.030029, -38.311935],
			[621.303894, 1081.829102, -38.311935],
			[619.883057, 1081.829102, -34.881760],
			[619.564148, 1081.030029, -35.200642],
			[618.309265, 1081.829102, -33.830177],
			[618.136658, 1081.030029, -34.246849],
			[616.452820, 1081.829102, -33.460896],
			[616.452820, 1081.030029, -33.911903],
			[614.596436, 1081.829102, -33.830177],
			[614.769043, 1081.030029, -34.246849],
			[613.022644, 1081.829102, -34.881760],
			[613.341553, 1081.030029, -35.200642],
			[611.971069, 1081.829102, -36.455521],
			[612.387756, 1081.030029, -36.628128],
			[611.601807, 1081.829102, -38.311935],
			[612.052856, 1081.030029, -38.311935],
			[611.971069, 1081.829102, -40.168350],
			[612.387756, 1081.030029, -39.995743],
			[613.022644, 1081.829102, -41.742111],
			[613.341553, 1081.030029, -41.423233],
			[614.596436, 1081.829102, -42.793697],
			[614.769043, 1081.030029, -42.377026],
			[616.452820, 1081.829102, -43.162945],
			[616.452820, 1081.030029, -42.711967],
			[618.309265, 1081.829102, -42.793697],
			[618.136658, 1081.030029, -42.377026],
			[619.883057, 1081.829102, -41.742111],
			[619.564148, 1081.030029, -41.423233],
			[620.934570, 1081.829102, -40.168350],
			[620.517944, 1081.030029, -39.995743],
			[611.601807, 1081.829102, -38.311935],
			[600.452820, 1081.829956, -22.311935],
			[616.452820, 1081.829102, -43.162945],
			[632.452820, 1081.829956, -54.311935],
			[621.303894, 1081.829102, -38.311935],
			[632.452820, 1081.829956, -22.311935],
			[616.452820, 1081.829102, -33.460896],
			[611.971069, 1081.829102, -36.455521],
			[613.022644, 1081.829102, -34.881760],
			[614.596436, 1081.829102, -33.830177],
			[618.309265, 1081.829102, -33.830177],
			[619.883057, 1081.829102, -34.881760],
			[620.934570, 1081.829102, -36.455521],
			[620.934570, 1081.829102, -40.168350],
			[619.883057, 1081.829102, -41.742111],
			[618.309265, 1081.829102, -42.793697],
			[614.596436, 1081.829102, -42.793697],
			[613.022644, 1081.829102, -41.742111],
			[611.971069, 1081.829102, -40.168350],
			[632.452820, 1081.401245, -55.911938],
			[632.452820, 1080.229980, -57.083199],
			[632.452820, 1078.630005, -57.511936],
			[598.852844, 1081.401245, -22.311935],
			[597.252808, 1078.630005, -22.311935],
			[597.681580, 1080.229980, -22.311935],
			[633.838501, 1081.401245, -55.111935],
			[634.052856, 1081.401245, -54.311935],
			[633.252808, 1081.401245, -55.697567],
			[635.652832, 1078.630005, -54.311935],
			[635.224121, 1080.229980, -54.311935],
			[634.852844, 1080.229980, -55.697567],
			[635.224121, 1078.630005, -55.911938],
			[633.838501, 1080.229980, -56.711937],
			[634.052856, 1078.630005, -57.083199],
			[634.052856, 1081.401245, -22.311935],
			[635.652832, 1078.630005, -22.311935],
			[635.224121, 1080.229980, -22.311935],
			[599.067200, 1081.401245, -21.511936],
			[599.652832, 1081.401245, -20.926304],
			[600.452820, 1081.401245, -20.711937],
			[598.052856, 1080.229980, -20.926304],
			[597.681580, 1078.630005, -20.711937],
			[599.067200, 1080.229980, -19.911936],
			[598.852844, 1078.630005, -19.540640],
			[600.452820, 1080.229980, -19.540640],
			[600.452820, 1078.630005, -19.111937],
			[632.452820, 1081.401245, -20.711937],
			[607.652832, 1080.229980, -19.540640],
			[607.652832, 1078.630005, -19.111937],
			[633.838501, 1081.401245, -21.511936],
			[633.252808, 1081.401245, -20.926304],
			[634.852844, 1080.229980, -20.926304],
			[635.224121, 1078.630005, -20.711937],
			[634.052856, 1078.630005, -19.540640],
			[633.838501, 1080.229980, -19.911936],
			[632.452820, 1080.229980, -19.540640],
			[632.452820, 1078.630005, -19.111937],
			[632.452820, 1067.430420, -57.511936],
			[600.452820, 1067.430420, -57.511936],
			[597.252808, 1067.430420, -54.311935],
			[597.252808, 1067.430420, -22.311935],
			[635.652832, 1067.430420, -54.311935],
			[635.224121, 1067.430420, -55.911938],
			[634.052856, 1067.430420, -57.083199],
			[635.652832, 1067.430420, -22.311935],
			[632.452820, 1067.430420, -19.111937],
			[625.252808, 1067.430420, -19.111937],
			[625.252808, 1078.630005, -19.111937],
			[625.252808, 1080.229980, -19.540640],
			[600.452820, 1067.430420, -19.111937],
			[607.652832, 1067.430420, -19.111937],
			[632.452820, 1067.430420, -55.911938],
			[632.452820, 1067.430420, -57.511936],
			[600.452820, 1067.430420, -57.511936],
			[600.452820, 1067.430420, -55.911938],
			[598.852844, 1067.430420, -54.311935],
			[597.252808, 1067.430420, -54.311935],
			[597.252808, 1067.430420, -22.311935],
			[598.852844, 1067.430420, -22.311935],
			[634.052856, 1067.430420, -54.311935],
			[635.652832, 1067.430420, -54.311935],
			[635.224121, 1067.430420, -55.911938],
			[633.838501, 1067.430420, -55.111935],
			[634.052856, 1067.430420, -57.083199],
			[633.252808, 1067.430420, -55.697567],
			[634.052856, 1067.430420, -22.311935],
			[635.652832, 1067.430420, -22.311935],
			[625.252808, 1067.430420, -20.711937],
			[625.252808, 1067.430420, -19.111937],
			[632.452820, 1067.430420, -19.111937],
			[632.452820, 1067.430420, -20.711937],
			[600.452820, 1067.430420, -20.711937],
			[600.452820, 1067.430420, -19.111937],
			[607.652832, 1067.430420, -19.111937],
			[607.652832, 1067.430420, -20.711937],
			[597.681580, 1067.430420, -55.911938],
			[598.852844, 1067.430420, -57.083199],
			[597.681580, 1067.430420, -55.911938],
			[599.067200, 1067.430420, -55.111935],
			[599.652832, 1067.430420, -55.697567],
			[598.852844, 1067.430420, -57.083199],
			[635.224121, 1067.430420, -20.711937],
			[634.052856, 1067.430420, -19.540640],
			[635.224121, 1067.430420, -20.711937],
			[633.838501, 1067.430420, -21.511936],
			[633.252808, 1067.430420, -20.926304],
			[634.052856, 1067.430420, -19.540640],
			[597.681580, 1067.430420, -20.711937],
			[598.852844, 1067.430420, -19.540640],
			[597.681580, 1067.430420, -20.711937],
			[599.067200, 1067.430420, -21.511936],
			[598.852844, 1067.430420, -19.540640],
			[599.652832, 1067.430420, -20.926304],
			[632.452820, 1080.229980, -55.911938],
			[632.452820, 1067.430420, -55.911938],
			[600.452820, 1067.430420, -55.911938],
			[600.452820, 1080.229980, -55.911938],
			[598.852844, 1080.229980, -54.311935],
			[598.852844, 1067.430420, -54.311935],
			[598.852844, 1067.430420, -22.311935],
			[598.852844, 1080.229980, -22.311935],
			[634.052856, 1080.229980, -54.311935],
			[634.052856, 1067.430420, -54.311935],
			[633.838501, 1067.430420, -55.111935],
			[633.838501, 1080.229980, -55.111935],
			[634.052856, 1080.229980, -22.311935],
			[634.052856, 1067.430420, -22.311935],
			[625.252808, 1078.630005, -19.111937],
			[625.252808, 1067.430420, -19.111937],
			[625.252808, 1067.430420, -20.711937],
			[625.252808, 1080.229980, -20.711937],
			[625.252808, 1080.229980, -20.711937],
			[625.252808, 1067.430420, -20.711937],
			[632.452820, 1067.430420, -20.711937],
			[632.452820, 1080.229980, -20.711937],
			[600.452820, 1080.229980, -20.711937],
			[600.452820, 1067.430420, -20.711937],
			[607.652832, 1067.430420, -20.711937],
			[607.652832, 1080.229980, -20.711937],
			[607.652832, 1080.229980, -20.711937],
			[607.652832, 1067.430420, -20.711937],
			[607.652832, 1078.630005, -19.111937],
			[607.652832, 1067.430420, -19.111937],
			[633.252808, 1067.430420, -55.697567],
			[633.252808, 1080.229980, -55.697567],
			[599.067200, 1080.229980, -55.111935],
			[599.067200, 1067.430420, -55.111935],
			[599.652832, 1080.229980, -55.697567],
			[599.652832, 1067.430420, -55.697567],
			[633.838501, 1080.229980, -21.511936],
			[633.838501, 1067.430420, -21.511936],
			[633.252808, 1080.229980, -20.926304],
			[633.252808, 1067.430420, -20.926304],
			[599.067200, 1067.430420, -21.511936],
			[599.067200, 1080.229980, -21.511936],
			[599.652832, 1067.430420, -20.926304],
			[599.652832, 1080.229980, -20.926304],
			[625.252808, 1080.229980, -19.540640],
			[607.652832, 1080.229980, -19.540640],
			[625.252808, 1080.229980, -20.711937],
			[632.452820, 1080.229980, -20.711937],
			[616.452820, 1080.229980, -38.311935],
			[607.652832, 1080.229980, -20.711937],
			[633.252808, 1080.229980, -20.926304],
			[633.838501, 1080.229980, -21.511936],
			[634.052856, 1080.229980, -22.311935],
			[634.052856, 1080.229980, -54.311935],
			[633.838501, 1080.229980, -55.111935],
			[633.252808, 1080.229980, -55.697567],
			[632.452820, 1080.229980, -55.911938],
			[600.452820, 1080.229980, -55.911938],
			[599.652832, 1080.229980, -55.697567],
			[599.067200, 1080.229980, -55.111935],
			[598.852844, 1080.229980, -54.311935],
			[598.852844, 1080.229980, -22.311935],
			[599.067200, 1080.229980, -21.511936],
			[599.652832, 1080.229980, -20.926304],
			[600.452820, 1080.229980, -20.711937],
			[625.252808, 1080.229980, -19.540640],
			[607.652832, 1080.229980, -19.540640],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate a rectangular hit target mesh', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'HitTargetRect', 'hittarget-HitTargetRect');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[748.009338, 1077.785156, -21.205215],
			[748.009338, 1081.306641, -21.205215],
			[748.009949, 1081.306641, -48.406338],
			[748.009949, 1077.785156, -48.406338],
			[704.806396, 1081.306641, -21.204992],
			[704.806396, 1077.785156, -21.204992],
			[704.806396, 1077.785156, -48.406338],
			[704.806396, 1081.306641, -48.406338],
			[743.609924, 1081.306641, -52.806335],
			[709.206421, 1081.306641, -52.806335],
			[743.609924, 1077.785156, -52.806335],
			[709.206421, 1077.785156, -52.806335],
			[743.609375, 1081.306641, -16.805216],
			[709.206421, 1077.785156, -16.804993],
			[709.206421, 1081.306641, -16.804993],
			[743.609375, 1077.785156, -16.805216],
			[745.291992, 1077.785156, -17.140575],
			[745.291992, 1081.306641, -17.140575],
			[746.719482, 1077.785156, -18.094368],
			[746.719482, 1081.306641, -18.094368],
			[747.673218, 1077.785156, -19.521856],
			[747.673218, 1081.306641, -19.521856],
			[707.524353, 1077.785156, -17.140575],
			[707.524353, 1081.306641, -17.140575],
			[706.096924, 1077.785156, -18.094368],
			[706.096924, 1081.306641, -18.094368],
			[705.143066, 1077.785156, -19.521856],
			[705.143066, 1081.306641, -19.521856],
			[745.291992, 1077.785156, -52.470753],
			[745.291992, 1081.306641, -52.470753],
			[746.719482, 1077.785156, -51.516960],
			[746.719482, 1081.306641, -51.516960],
			[747.673218, 1077.785156, -50.089474],
			[747.673218, 1081.306641, -50.089474],
			[707.524353, 1077.785156, -52.470753],
			[709.206421, 1077.785156, -52.806335],
			[707.524353, 1081.306641, -52.470753],
			[709.206421, 1081.306641, -52.806335],
			[706.096924, 1077.785156, -51.516960],
			[706.096924, 1081.306641, -51.516960],
			[705.143066, 1077.785156, -50.089474],
			[705.143066, 1081.306641, -50.089474],
			[745.291992, 1077.785156, -17.140575],
			[726.408142, 1077.785156, -34.805664],
			[743.609375, 1077.785156, -16.805216],
			[746.719482, 1077.785156, -18.094368],
			[747.673218, 1077.785156, -19.521856],
			[748.009338, 1077.785156, -21.205215],
			[709.206421, 1077.785156, -16.804993],
			[707.524353, 1077.785156, -17.140575],
			[706.096924, 1077.785156, -18.094368],
			[705.143066, 1077.785156, -19.521856],
			[704.806396, 1077.785156, -21.204992],
			[704.806396, 1077.785156, -48.406338],
			[705.143066, 1077.785156, -50.089474],
			[706.096924, 1077.785156, -51.516960],
			[707.524353, 1077.785156, -52.470753],
			[709.206421, 1077.785156, -52.806335],
			[743.609924, 1077.785156, -52.806335],
			[745.291992, 1077.785156, -52.470753],
			[746.719482, 1077.785156, -51.516960],
			[747.673218, 1077.785156, -50.089474],
			[748.009949, 1077.785156, -48.406338],
			[743.609375, 1081.306641, -16.805216],
			[726.408142, 1081.306641, -34.805664],
			[745.291992, 1081.306641, -17.140575],
			[746.719482, 1081.306641, -18.094368],
			[747.673218, 1081.306641, -19.521856],
			[748.009338, 1081.306641, -21.205215],
			[709.206421, 1081.306641, -16.804993],
			[707.524353, 1081.306641, -17.140575],
			[706.096924, 1081.306641, -18.094368],
			[705.143066, 1081.306641, -19.521856],
			[704.806396, 1081.306641, -21.204992],
			[704.806396, 1081.306641, -48.406338],
			[705.143066, 1081.306641, -50.089474],
			[706.096924, 1081.306641, -51.516960],
			[707.524353, 1081.306641, -52.470753],
			[709.206421, 1081.306641, -52.806335],
			[743.609924, 1081.306641, -52.806335],
			[745.291992, 1081.306641, -52.470753],
			[746.719482, 1081.306641, -51.516960],
			[747.673218, 1081.306641, -50.089474],
			[748.009949, 1081.306641, -48.406338],
			[734.408142, 1077.785156, -42.011040],
			[734.408142, 1076.985962, 9.199616],
			[734.408142, 1077.785156, 9.199616],
			[734.408142, 1076.985962, -42.011040],
			[718.408142, 1077.785156, -42.011040],
			[734.408142, 1076.985962, -42.011040],
			[734.408142, 1077.785156, -42.011040],
			[718.408142, 1076.985962, -42.011040],
			[718.408142, 1076.985962, 9.199616],
			[718.408142, 1076.985962, -42.011040],
			[718.408142, 1077.785156, -42.011040],
			[718.408142, 1077.785156, 9.199616],
			[734.408142, 1077.785156, -42.011040],
			[718.408142, 1077.785156, 9.199616],
			[718.408142, 1077.785156, -42.011040],
			[734.408142, 1077.785156, 9.199616],
			[734.408142, 1076.985962, -42.011040],
			[718.408142, 1076.985962, -42.011040],
			[718.408142, 1076.985962, 9.199616],
			[734.408142, 1076.985962, 9.199616],
			[730.473267, 1081.306641, -33.121887],
			[726.408142, 1082.107910, -34.805695],
			[730.808167, 1081.306641, -34.805695],
			[729.519470, 1081.306641, -31.694431],
			[728.091980, 1081.306641, -30.740608],
			[726.408142, 1081.306641, -30.405697],
			[724.724365, 1081.306641, -30.740608],
			[723.296875, 1081.306641, -31.694431],
			[722.343079, 1081.306641, -33.121887],
			[722.008179, 1081.306641, -34.805695],
			[722.343079, 1081.306641, -36.489536],
			[723.296875, 1081.306641, -37.916992],
			[724.724365, 1081.306641, -38.870785],
			[726.408142, 1081.306641, -39.205727],
			[728.091980, 1081.306641, -38.870785],
			[729.519470, 1081.306641, -37.916992],
			[730.473267, 1081.306641, -36.489536],
			[734.808167, 1074.745972, -56.805695],
			[734.808167, 1069.946045, -14.005696],
			[734.808167, 1074.745972, -14.005696],
			[734.808167, 1069.946045, -56.805695],
			[718.008179, 1074.745972, -56.805695],
			[734.808167, 1069.946045, -56.805695],
			[734.808167, 1074.745972, -56.805695],
			[718.008179, 1069.946045, -56.805695],
			[718.008179, 1069.946045, -14.005696],
			[718.008179, 1069.946045, -56.805695],
			[718.008179, 1074.745972, -56.805695],
			[718.008179, 1074.745972, -14.005696],
			[734.808167, 1074.745972, -56.805695],
			[718.008179, 1074.745972, -14.005696],
			[718.008179, 1074.745972, -56.805695],
			[734.808167, 1074.745972, -14.005696],
			[718.008179, 1069.946045, -14.005696],
			[718.008179, 1074.745972, -14.005696],
			[734.808167, 1069.946045, -14.005696],
			[734.808167, 1074.745972, -14.005696],
			[735.208130, 1069.946045, -57.205696],
			[735.208130, 1068.345947, 9.194304],
			[735.208130, 1069.946045, 9.194304],
			[735.208130, 1068.345947, -57.205696],
			[717.608154, 1069.946045, -57.205696],
			[735.208130, 1068.345947, -57.205696],
			[735.208130, 1069.946045, -57.205696],
			[717.608154, 1068.345947, -57.205696],
			[717.608154, 1068.345947, 9.194304],
			[717.608154, 1068.345947, -57.205696],
			[717.608154, 1069.946045, -57.205696],
			[717.608154, 1069.946045, 9.194304],
			[735.208130, 1069.946045, -57.205696],
			[717.608154, 1069.946045, 9.194304],
			[717.608154, 1069.946045, -57.205696],
			[735.208130, 1069.946045, 9.194304],
			[735.208130, 1068.345947, -57.205696],
			[717.608154, 1068.345947, -57.205696],
			[717.608154, 1068.345947, 9.194304],
			[735.208130, 1068.345947, 9.194304],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate a round hit target mesh', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'HitTargetRound', 'hittarget-HitTargetRound');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[841.835388, 1075.742310, -31.127136],
			[842.211853, 1079.262329, -34.949760],
			[842.211853, 1075.742310, -34.949760],
			[841.835388, 1079.262329, -31.127136],
			[840.720337, 1079.262329, -27.451424],
			[840.720337, 1075.742310, -27.451424],
			[838.909607, 1075.742310, -24.063841],
			[838.909607, 1079.262329, -24.063841],
			[836.472839, 1079.262329, -21.094624],
			[836.472839, 1075.742310, -21.094624],
			[833.503601, 1075.742310, -18.657824],
			[833.503601, 1079.262329, -18.657824],
			[830.116089, 1079.262329, -16.847136],
			[830.116089, 1075.742310, -16.847136],
			[826.440308, 1075.742310, -15.732128],
			[826.440308, 1079.262329, -15.732128],
			[822.617676, 1079.262329, -15.355616],
			[822.617676, 1075.742310, -15.355616],
			[818.795044, 1075.742310, -15.732128],
			[822.617676, 1079.262329, -15.355616],
			[822.617676, 1075.742310, -15.355616],
			[818.795044, 1079.262329, -15.732128],
			[815.119324, 1079.262329, -16.847136],
			[815.119324, 1075.742310, -16.847136],
			[811.731750, 1075.742310, -18.657824],
			[811.731750, 1079.262329, -18.657824],
			[808.762512, 1079.262329, -21.094624],
			[808.762512, 1075.742310, -21.094624],
			[806.325745, 1075.742310, -24.063841],
			[806.325745, 1079.262329, -24.063841],
			[804.515076, 1079.262329, -27.451424],
			[804.515076, 1075.742310, -27.451424],
			[803.400024, 1075.742310, -31.127136],
			[803.400024, 1079.262329, -31.127136],
			[803.023560, 1079.262329, -34.949760],
			[803.023560, 1075.742310, -34.949760],
			[803.400024, 1075.742310, -38.772415],
			[803.400024, 1079.262329, -38.772415],
			[804.515076, 1079.262329, -42.448128],
			[804.515076, 1075.742310, -42.448128],
			[806.325745, 1075.742310, -45.835712],
			[806.325745, 1079.262329, -45.835712],
			[808.762512, 1079.262329, -48.804928],
			[808.762512, 1075.742310, -48.804928],
			[811.731750, 1075.742310, -51.241730],
			[811.731750, 1079.262329, -51.241730],
			[815.119324, 1079.262329, -53.052418],
			[815.119324, 1075.742310, -53.052418],
			[818.795044, 1075.742310, -54.167423],
			[818.795044, 1079.262329, -54.167423],
			[822.617676, 1079.262329, -54.543938],
			[822.617676, 1075.742310, -54.543938],
			[826.440308, 1075.742310, -54.167423],
			[826.440308, 1079.262329, -54.167423],
			[830.116089, 1079.262329, -53.052418],
			[830.116089, 1075.742310, -53.052418],
			[833.503601, 1075.742310, -51.241730],
			[833.503601, 1079.262329, -51.241730],
			[836.472839, 1079.262329, -48.804928],
			[836.472839, 1075.742310, -48.804928],
			[838.909607, 1075.742310, -45.835712],
			[838.909607, 1079.262329, -45.835712],
			[840.720337, 1079.262329, -42.448128],
			[840.720337, 1075.742310, -42.448128],
			[841.835388, 1075.742310, -38.772415],
			[841.835388, 1079.262329, -38.772415],
			[822.617676, 1079.262329, -34.949760],
			[842.211853, 1079.262329, -34.949760],
			[841.835388, 1079.262329, -31.127136],
			[840.720337, 1079.262329, -27.451424],
			[838.909607, 1079.262329, -24.063841],
			[836.472839, 1079.262329, -21.094624],
			[833.503601, 1079.262329, -18.657824],
			[830.116089, 1079.262329, -16.847136],
			[826.440308, 1079.262329, -15.732128],
			[822.617676, 1079.262329, -15.355616],
			[818.795044, 1079.262329, -15.732128],
			[815.119324, 1079.262329, -16.847136],
			[811.731750, 1079.262329, -18.657824],
			[808.762512, 1079.262329, -21.094624],
			[806.325745, 1079.262329, -24.063841],
			[804.515076, 1079.262329, -27.451424],
			[803.400024, 1079.262329, -31.127136],
			[803.023560, 1079.262329, -34.949760],
			[803.400024, 1079.262329, -38.772415],
			[804.515076, 1079.262329, -42.448128],
			[806.325745, 1079.262329, -45.835712],
			[808.762512, 1079.262329, -48.804928],
			[811.731750, 1079.262329, -51.241730],
			[815.119324, 1079.262329, -53.052418],
			[818.795044, 1079.262329, -54.167423],
			[822.617676, 1079.262329, -54.543938],
			[826.440308, 1079.262329, -54.167423],
			[830.116089, 1079.262329, -53.052418],
			[833.503601, 1079.262329, -51.241730],
			[836.472839, 1079.262329, -48.804928],
			[838.909607, 1079.262329, -45.835712],
			[840.720337, 1079.262329, -42.448128],
			[841.835388, 1079.262329, -38.772415],
			[822.617676, 1075.742310, -34.949760],
			[841.835388, 1075.742310, -31.127136],
			[842.211853, 1075.742310, -34.949760],
			[840.720337, 1075.742310, -27.451424],
			[838.909607, 1075.742310, -24.063841],
			[836.472839, 1075.742310, -21.094624],
			[833.503601, 1075.742310, -18.657824],
			[830.116089, 1075.742310, -16.847136],
			[826.440308, 1075.742310, -15.732128],
			[822.617676, 1075.742310, -15.355616],
			[818.795044, 1075.742310, -15.732128],
			[815.119324, 1075.742310, -16.847136],
			[811.731750, 1075.742310, -18.657824],
			[808.762512, 1075.742310, -21.094624],
			[806.325745, 1075.742310, -24.063841],
			[804.515076, 1075.742310, -27.451424],
			[803.400024, 1075.742310, -31.127136],
			[803.023560, 1075.742310, -34.949760],
			[803.400024, 1075.742310, -38.772415],
			[804.515076, 1075.742310, -42.448128],
			[806.325745, 1075.742310, -45.835712],
			[808.762512, 1075.742310, -48.804928],
			[811.731750, 1075.742310, -51.241730],
			[815.119324, 1075.742310, -53.052418],
			[818.795044, 1075.742310, -54.167423],
			[822.617676, 1075.742310, -54.543938],
			[826.440308, 1075.742310, -54.167423],
			[830.116089, 1075.742310, -53.052418],
			[833.503601, 1075.742310, -51.241730],
			[836.472839, 1075.742310, -48.804928],
			[838.909607, 1075.742310, -45.835712],
			[840.720337, 1075.742310, -42.448128],
			[841.835388, 1075.742310, -38.772415],
			[830.617676, 1075.742310, -42.155106],
			[830.617676, 1074.942627, 9.055552],
			[830.617676, 1075.742310, 9.055552],
			[830.617676, 1074.942627, -42.155106],
			[814.617676, 1075.742310, -42.155106],
			[830.617676, 1074.942627, -42.155106],
			[830.617676, 1075.742310, -42.155106],
			[814.617676, 1074.942627, -42.155106],
			[814.617676, 1074.942627, 9.055552],
			[814.617676, 1074.942627, -42.155106],
			[814.617676, 1075.742310, -42.155106],
			[814.617676, 1075.742310, 9.055552],
			[830.617676, 1075.742310, -42.155106],
			[814.617676, 1075.742310, 9.055552],
			[814.617676, 1075.742310, -42.155106],
			[830.617676, 1075.742310, 9.055552],
			[830.617676, 1074.942627, -42.155106],
			[814.617676, 1074.942627, -42.155106],
			[814.617676, 1074.942627, 9.055552],
			[830.617676, 1074.942627, 9.055552],
			[826.682800, 1079.262329, -33.265953],
			[822.617676, 1080.063843, -34.949760],
			[827.017700, 1079.262329, -34.949760],
			[825.729004, 1079.262329, -31.838495],
			[824.301514, 1079.262329, -30.884672],
			[822.617676, 1079.262329, -30.549761],
			[820.933899, 1079.262329, -30.884672],
			[819.506409, 1079.262329, -31.838495],
			[818.552612, 1079.262329, -33.265953],
			[818.217651, 1079.262329, -34.949760],
			[818.552612, 1079.262329, -36.633598],
			[819.506409, 1079.262329, -38.061054],
			[820.933899, 1079.262329, -39.014847],
			[822.617676, 1079.262329, -39.349792],
			[824.301514, 1079.262329, -39.014847],
			[825.729004, 1079.262329, -38.061054],
			[826.682800, 1079.262329, -36.633598],
			[831.017700, 1072.702881, -56.949760],
			[831.017700, 1067.903564, -14.149760],
			[831.017700, 1072.702881, -14.149760],
			[831.017700, 1067.903564, -56.949760],
			[814.217712, 1072.702881, -56.949760],
			[831.017700, 1067.903564, -56.949760],
			[831.017700, 1072.702881, -56.949760],
			[814.217712, 1067.903564, -56.949760],
			[814.217712, 1067.903564, -14.149760],
			[814.217712, 1067.903564, -56.949760],
			[814.217712, 1072.702881, -56.949760],
			[814.217712, 1072.702881, -14.149760],
			[831.017700, 1072.702881, -56.949760],
			[814.217712, 1072.702881, -14.149760],
			[814.217712, 1072.702881, -56.949760],
			[831.017700, 1072.702881, -14.149760],
			[814.217712, 1067.903564, -14.149760],
			[814.217712, 1072.702881, -14.149760],
			[831.017700, 1067.903564, -14.149760],
			[831.017700, 1072.702881, -14.149760],
			[831.417725, 1067.903564, -57.349792],
			[831.417725, 1066.303711, 9.050240],
			[831.417725, 1067.903564, 9.050240],
			[831.417725, 1066.303711, -57.349792],
			[813.817688, 1067.903564, -57.349792],
			[831.417725, 1066.303711, -57.349792],
			[831.417725, 1067.903564, -57.349792],
			[813.817688, 1066.303711, -57.349792],
			[813.817688, 1066.303711, 9.050240],
			[813.817688, 1066.303711, -57.349792],
			[813.817688, 1067.903564, -57.349792],
			[813.817688, 1067.903564, 9.050240],
			[831.417725, 1067.903564, -57.349792],
			[813.817688, 1067.903564, 9.050240],
			[813.817688, 1067.903564, -57.349792],
			[831.417725, 1067.903564, 9.050240],
			[831.417725, 1066.303711, -57.349792],
			[813.817688, 1066.303711, -57.349792],
			[813.817688, 1066.303711, 9.050240],
			[831.417725, 1066.303711, 9.050240],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate a slim hit target mesh', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'HitTargetSlim', 'hittarget-HitTargetSlim');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[930.017212, 1073.734863, -22.593569],
			[932.924744, 1073.734863, -24.404257],
			[930.017212, 1070.214478, -22.593569],
			[932.924744, 1070.214478, -24.404257],
			[926.341431, 1070.214478, -21.478559],
			[926.341431, 1073.734863, -21.478559],
			[922.518799, 1073.734863, -21.102049],
			[922.518799, 1070.214478, -21.102049],
			[918.696167, 1070.214478, -21.478559],
			[922.518799, 1073.734863, -21.102049],
			[922.518799, 1070.214478, -21.102049],
			[918.696167, 1073.734863, -21.478559],
			[915.020447, 1073.734863, -22.593569],
			[915.020447, 1070.214478, -22.593569],
			[912.112915, 1070.214478, -24.404257],
			[912.112915, 1073.734863, -24.404257],
			[915.020447, 1073.734863, -58.798847],
			[912.112915, 1073.734863, -56.988159],
			[915.020447, 1070.214478, -58.798847],
			[912.112915, 1070.214478, -56.988159],
			[918.696167, 1070.214478, -59.913857],
			[918.696167, 1073.734863, -59.913857],
			[922.518799, 1073.734863, -60.290367],
			[922.518799, 1070.214478, -60.290367],
			[926.341431, 1070.214478, -59.913857],
			[926.341431, 1073.734863, -59.913857],
			[930.017212, 1073.734863, -58.798847],
			[930.017212, 1070.214478, -58.798847],
			[932.924744, 1070.214478, -56.988159],
			[932.924744, 1073.734863, -56.988159],
			[922.518799, 1073.734863, -40.696224],
			[932.924744, 1073.734863, -24.404257],
			[930.017212, 1073.734863, -22.593569],
			[926.341431, 1073.734863, -21.478559],
			[922.518799, 1073.734863, -21.102049],
			[918.696167, 1073.734863, -21.478559],
			[915.020447, 1073.734863, -22.593569],
			[912.112915, 1073.734863, -24.404257],
			[912.112915, 1073.734863, -56.988159],
			[915.020447, 1073.734863, -58.798847],
			[918.696167, 1073.734863, -59.913857],
			[922.518799, 1073.734863, -60.290367],
			[926.341431, 1073.734863, -59.913857],
			[930.017212, 1073.734863, -58.798847],
			[932.924744, 1073.734863, -56.988159],
			[922.518799, 1070.214478, -40.696224],
			[930.017212, 1070.214478, -22.593569],
			[932.924744, 1070.214478, -24.404257],
			[926.341431, 1070.214478, -21.478559],
			[922.518799, 1070.214478, -21.102049],
			[918.696167, 1070.214478, -21.478559],
			[915.020447, 1070.214478, -22.593569],
			[912.112915, 1070.214478, -24.404257],
			[915.020447, 1070.214478, -58.798847],
			[912.112915, 1070.214478, -56.988159],
			[918.696167, 1070.214478, -59.913857],
			[922.518799, 1070.214478, -60.290367],
			[926.341431, 1070.214478, -59.913857],
			[930.017212, 1070.214478, -58.798847],
			[932.924744, 1070.214478, -56.988159],
			[912.112915, 1070.214478, -24.404257],
			[912.112915, 1070.214478, -56.988159],
			[912.112915, 1073.734863, -24.404257],
			[912.112915, 1073.734863, -56.988159],
			[932.924744, 1070.214478, -24.404257],
			[932.924744, 1073.734863, -24.404257],
			[932.924744, 1073.734863, -56.988159],
			[932.924744, 1070.214478, -56.988159],
			[930.518799, 1070.214478, -47.901535],
			[930.518799, 1069.414673, 3.309120],
			[930.518799, 1070.214478, 3.309120],
			[930.518799, 1069.414673, -47.901535],
			[914.518799, 1070.214478, -47.901535],
			[930.518799, 1069.414673, -47.901535],
			[930.518799, 1070.214478, -47.901535],
			[914.518799, 1069.414673, -47.901535],
			[914.518799, 1069.414673, 3.309120],
			[914.518799, 1069.414673, -47.901535],
			[914.518799, 1070.214478, -47.901535],
			[914.518799, 1070.214478, 3.309120],
			[930.518799, 1070.214478, -47.901535],
			[914.518799, 1070.214478, 3.309120],
			[914.518799, 1070.214478, -47.901535],
			[930.518799, 1070.214478, 3.309120],
			[930.518799, 1069.414673, -47.901535],
			[914.518799, 1069.414673, -47.901535],
			[914.518799, 1069.414673, 3.309120],
			[930.518799, 1069.414673, 3.309120],
			[926.583923, 1073.734863, -39.012383],
			[922.518799, 1074.536499, -40.696224],
			[926.918823, 1073.734863, -40.696224],
			[925.630127, 1073.734863, -37.584927],
			[924.202637, 1073.734863, -36.631104],
			[922.518799, 1073.734863, -36.296192],
			[920.835022, 1073.734863, -36.631104],
			[919.407532, 1073.734863, -37.584927],
			[918.453735, 1073.734863, -39.012383],
			[918.118774, 1073.734863, -40.696224],
			[918.453735, 1073.734863, -42.380032],
			[919.407532, 1073.734863, -43.807487],
			[920.835022, 1073.734863, -44.761280],
			[922.518799, 1073.734863, -45.096226],
			[924.202637, 1073.734863, -44.761280],
			[925.630127, 1073.734863, -43.807487],
			[926.583923, 1073.734863, -42.380032],
			[930.918823, 1067.174683, -62.696194],
			[930.918823, 1062.374634, -19.896193],
			[930.918823, 1067.174683, -19.896193],
			[930.918823, 1062.374634, -62.696194],
			[914.118835, 1067.174683, -62.696194],
			[930.918823, 1062.374634, -62.696194],
			[930.918823, 1067.174683, -62.696194],
			[914.118835, 1062.374634, -62.696194],
			[914.118835, 1062.374634, -19.896193],
			[914.118835, 1062.374634, -62.696194],
			[914.118835, 1067.174683, -62.696194],
			[914.118835, 1067.174683, -19.896193],
			[930.918823, 1067.174683, -62.696194],
			[914.118835, 1067.174683, -19.896193],
			[914.118835, 1067.174683, -62.696194],
			[930.918823, 1067.174683, -19.896193],
			[914.118835, 1062.374634, -19.896193],
			[914.118835, 1067.174683, -19.896193],
			[930.918823, 1062.374634, -19.896193],
			[930.918823, 1067.174683, -19.896193],
			[931.318787, 1062.374634, -63.096191],
			[931.318787, 1060.774658, 3.303808],
			[931.318787, 1062.374634, 3.303808],
			[931.318787, 1060.774658, -63.096191],
			[913.718811, 1062.374634, -63.096191],
			[931.318787, 1060.774658, -63.096191],
			[931.318787, 1062.374634, -63.096191],
			[913.718811, 1060.774658, -63.096191],
			[913.718811, 1060.774658, 3.303808],
			[913.718811, 1060.774658, -63.096191],
			[913.718811, 1062.374634, -63.096191],
			[913.718811, 1062.374634, 3.303808],
			[931.318787, 1062.374634, -63.096191],
			[913.718811, 1062.374634, 3.303808],
			[913.718811, 1062.374634, -63.096191],
			[931.318787, 1062.374634, 3.303808],
			[931.318787, 1060.774658, -63.096191],
			[913.718811, 1060.774658, -63.096191],
			[913.718811, 1060.774658, 3.303808],
			[931.318787, 1060.774658, 3.303808],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should not generate an invisible target', async () => {
		three.expectNoObject(gltf, 'hitTargets', 'InvisibleTarget');
	});

	it('should generate target mesh that has been scaled', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'ScaledTarget', 'hittarget-ScaledTarget');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[538.704163, 935.013367, -39.510002],
			[484.629150, 935.013367, -39.510002],
			[538.704163, 935.013367, -86.966003],
			[484.629150, 935.013367, -86.966003],
			[538.704163, 917.653381, -86.966003],
			[538.704163, 935.013367, -86.966003],
			[484.629150, 935.013367, -86.966003],
			[484.629150, 917.653381, -86.966003],
			[538.704163, 917.653381, -39.510002],
			[538.704163, 917.653381, -86.966003],
			[484.629150, 917.653381, -86.966003],
			[484.629150, 917.653381, -39.510002],
			[484.629150, 917.653381, -30.612003],
			[538.704163, 917.653381, -30.612003],
			[484.629150, 917.653381, -39.510002],
			[484.629150, 935.013367, -39.510002],
			[484.629150, 925.093384, -32.095001],
			[484.629150, 917.653381, -86.966003],
			[484.629150, 935.013367, -86.966003],
			[538.704163, 935.013367, -86.966003],
			[538.704163, 917.653381, -86.966003],
			[538.704163, 935.013367, -39.510002],
			[538.704163, 917.653381, -39.510002],
			[538.704163, 925.093384, -32.095001],
			[538.704163, 935.013367, -39.510002],
			[538.704163, 925.093384, -32.095001],
			[484.629150, 925.093384, -32.095001],
			[538.704163, 917.653381, -30.612003],
			[484.629150, 925.093384, -30.612003],
			[484.629150, 925.093384, -32.095001],
			[538.704163, 925.093384, -32.095001],
			[538.704163, 925.093384, -30.612003],
			[538.704163, 925.093384, -30.612003],
			[484.629150, 925.093384, -30.612003],
			[484.629150, 917.653381, -30.612003],
			[484.629150, 935.013367, -39.510002],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate target mesh that has been rotated', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'RotatedTarget', 'hittarget-RotatedTarget');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[634.649292, 939.057983, -4.326368],
			[604.845764, 923.543274, -4.326368],
			[634.649292, 939.057983, -55.526367],
			[604.845764, 923.543274, -55.526367],
			[639.820862, 929.123474, -55.526367],
			[634.649292, 939.057983, -55.526367],
			[604.845764, 923.543274, -55.526367],
			[610.017334, 913.608765, -55.526367],
			[639.820862, 929.123474, -4.326368],
			[639.820862, 929.123474, -55.526367],
			[610.017334, 913.608765, -55.526367],
			[610.017334, 913.608765, -4.326368],
			[610.017334, 913.608765, 5.273632],
			[639.820862, 929.123474, 5.273632],
			[610.017334, 913.608765, -4.326368],
			[604.845764, 923.543274, -4.326368],
			[607.800903, 917.866394, 3.673632],
			[610.017334, 913.608765, -55.526367],
			[604.845764, 923.543274, -55.526367],
			[634.649292, 939.057983, -55.526367],
			[639.820862, 929.123474, -55.526367],
			[634.649292, 939.057983, -4.326368],
			[639.820862, 929.123474, -4.326368],
			[637.604492, 933.381165, 3.673632],
			[634.649292, 939.057983, -4.326368],
			[637.604492, 933.381165, 3.673632],
			[607.800903, 917.866394, 3.673632],
			[639.820862, 929.123474, 5.273632],
			[607.800903, 917.866394, 5.273632],
			[607.800903, 917.866394, 3.673632],
			[637.604492, 933.381165, 3.673632],
			[637.604492, 933.381165, 5.273632],
			[637.604492, 933.381165, 5.273632],
			[607.800903, 917.866394, 5.273632],
			[610.017334, 913.608765, 5.273632],
			[604.845764, 923.543274, -4.326368],
		];
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

	it('should generate target mesh that has been dropped', async () => {
		const targetMesh = three.find<Mesh>(gltf, 'hitTargets', 'DroppedTarget', 'hittarget-DroppedTarget');
		const targetMeshVertices = three.vertices(targetMesh);
		const expectedVertices = [
			[476.466675, 814.599976, -4.326368],
			[442.866699, 814.599976, -4.326368],
			[476.466675, 814.599976, -55.526367],
			[442.866699, 814.599976, -55.526367],
			[476.466675, 803.400024, -55.526367],
			[476.466675, 814.599976, -55.526367],
			[442.866699, 814.599976, -55.526367],
			[442.866699, 803.400024, -55.526367],
			[476.466675, 803.400024, -4.326368],
			[476.466675, 803.400024, -55.526367],
			[442.866699, 803.400024, -55.526367],
			[442.866699, 803.400024, -4.326368],
			[442.866699, 803.400024, 5.273632],
			[476.466675, 803.400024, 5.273632],
			[442.866699, 803.400024, -4.326368],
			[442.866699, 814.599976, -4.326368],
			[442.866699, 808.200012, 3.673632],
			[442.866699, 803.400024, -55.526367],
			[442.866699, 814.599976, -55.526367],
			[476.466675, 814.599976, -55.526367],
			[476.466675, 803.400024, -55.526367],
			[476.466675, 814.599976, -4.326368],
			[476.466675, 803.400024, -4.326368],
			[476.466675, 808.200012, 3.673632],
			[476.466675, 814.599976, -4.326368],
			[476.466675, 808.200012, 3.673632],
			[442.866699, 808.200012, 3.673632],
			[476.466675, 803.400024, 5.273632],
			[442.866699, 808.200012, 5.273632],
			[442.866699, 808.200012, 3.673632],
			[476.466675, 808.200012, 3.673632],
			[476.466675, 808.200012, 5.273632],
			[476.466675, 808.200012, 5.273632],
			[442.866699, 808.200012, 5.273632],
			[442.866699, 803.400024, 5.273632],
			[442.866699, 814.599976, -4.326368],
		];
		expectedVertices.forEach(v => v[2] += 52.0); // drop status is not exported when dumping obj in vpx
		three.expectVerticesInArray(expectedVertices, targetMeshVertices);
	});

});
